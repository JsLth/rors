<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Flexible and opinionated interface to local and remote
    OpenRouteService instances. The package enables qualitative and
    quantitative route computations, accessbility analyses, distance matrix
    calculations, street snapping and graph network exports. It is primarily
    aimed at processing larger datasets with controlled server-side
    limitations. R6 classes support the setup and and management of
    custom OpenRouteService instances. The package functions take a tidy
    and graceful approach in querying and formatting the API output.">
<title>Routing using OpenRouteService • rors</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/Roboto-0.4.8/font.css" rel="stylesheet">
<link href="deps/JetBrains_Mono-0.4.8/font.css" rel="stylesheet">
<link href="deps/Roboto_Slab-0.4.8/font.css" rel="stylesheet">
<!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Routing using OpenRouteService">
<meta property="og:description" content="Flexible and opinionated interface to local and remote
    OpenRouteService instances. The package enables qualitative and
    quantitative route computations, accessbility analyses, distance matrix
    calculations, street snapping and graph network exports. It is primarily
    aimed at processing larger datasets with controlled server-side
    limitations. R6 classes support the setup and and management of
    custom OpenRouteService instances. The package functions take a tidy
    and graceful approach in querying and formatting the API output.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">rors</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.12.8</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item">
  <a class="nav-link" href="index.html">
    <span class="fa fa-home"></span>
     
    Overview
  </a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown--vignettes">
    <span class="fa fa-book"></span>
     
    Vignettes
  </a>
  <div class="dropdown-menu" aria-labelledby="dropdown--vignettes">
    <a class="dropdown-item" href="articles/ors-installation.html">OpenRouteService setup</a>
    <a class="dropdown-item" href="articles/ors-routing.html">Routing functions</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">
    <span class="fa fa-search"></span>
     
    Reference
  </a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/JsLth/rors/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="rors">rors<a class="anchor" aria-label="anchor" href="#rors"></a>
</h1></div>
<p><img src="reference/figures/rors_sticker.png" width="150" align="right"></p>
<!-- badges: start -->


<!-- badges: end -->
<p>The purpose of <code>rors</code> is to provide a tidy, pipeable and comprehensive R interface to local or remote <a href="https://openrouteservice.org/" class="external-link">OpenRouteService</a> (ORS) instances. <code>rors</code> currently enables analyses based on all available endpoints:</p>
<ul>
<li>Qualitative and quantitative routing computations</li>
<li>Distance matrices</li>
<li>Accessibility analyses</li>
<li>Street snapping</li>
<li>Graph network export</li>
</ul>
<p>Functions are designed to be pipeable, API calls are performed gracefully and the results are tidied up to digestible (sf) tibbles.</p>
<p>Another important feature of <code>rors</code> is the setup and management of local OpenRouteService instances from scratch. Local instances facilitate computationally intensive data analyses and allow the definition of custom API configurations. While it is possible to use <code>rors</code> with the official web API, requests will be very slow due to rate restrictions and therefore not really suitable for larger scale analyses.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of <code>rors</code> from <a href="https://github.com/jslth/rors" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"jslth/rors"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="basic-usage">Basic usage<a class="anchor" aria-label="anchor" href="#basic-usage"></a>
</h2>
<p>To connect to a running OpenRouteService server - or to build a new one, use the workhorse function <code>ors_instance</code>:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/JsLth/rors" class="external-link">rors</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; © openrouteservice.org by HeiGIT | Data © OpenStreetMap contributors, ODbL 1.0. https://www.openstreetmap.org/copyright</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-spatial.github.io/sf/" class="external-link">sf</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Linking to GEOS 3.11.2, GDAL 3.7.2, PROJ 9.3.0; sf_use_s2() is TRUE</span></span>
<span></span>
<span><span class="co"># API keys are stored in the ORS_TOKEN environment variable</span></span>
<span><span class="va">ors</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/ors_instance.html">ors_instance</a></span><span class="op">(</span>server <span class="op">=</span> <span class="st">"public"</span><span class="op">)</span></span></code></pre></div>
<p>The ORS instance is then attached to the session and is automatically detected by all other functions. To perform a simple routing request, run <code>ors_inspect</code>:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/ors_inspect.html">ors_inspect</a></span><span class="op">(</span><span class="va">pharma</span>, profile <span class="op">=</span> <span class="st">"driving-car"</span>, level <span class="op">=</span> <span class="st">"segment"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Simple feature collection with 7 features and 5 fields</span></span>
<span><span class="co">#&gt; Geometry type: MULTILINESTRING</span></span>
<span><span class="co">#&gt; Dimension:     XY</span></span>
<span><span class="co">#&gt; Bounding box:  xmin: -0.730349 ymin: 52.5876 xmax: -0.467708 ymax: 52.6747</span></span>
<span><span class="co">#&gt; Geodetic CRS:  WGS 84</span></span>
<span><span class="co">#&gt; # A tibble: 7 × 6</span></span>
<span><span class="co">#&gt;   name            distance duration avgspeed elevation                  geometry</span></span>
<span><span class="co">#&gt; * &lt;chr&gt;                [m]      [s]   [km/h]       [m]     &lt;MULTILINESTRING [°]&gt;</span></span>
<span><span class="co">#&gt; 1 Uppingham Road…   9983.     618.      69.8     121.  ((-0.722324 52.58762, -0…</span></span>
<span><span class="co">#&gt; 2 High Street, B…     26.3      2.4     39.4     111.  ((-0.727928 52.66962, -0…</span></span>
<span><span class="co">#&gt; 3 Uppingham Road…  10059.     628.      68.8     120.  ((-0.728317 52.66962, -0…</span></span>
<span><span class="co">#&gt; 4 Uppingham Road…  10642.     676.      69.8     123.  ((-0.721097 52.58816, -0…</span></span>
<span><span class="co">#&gt; 5 Stamford Road,…  19188.    1137.      66.0      77.9 ((-0.730349 52.66991, -0…</span></span>
<span><span class="co">#&gt; 6 St Mary's Stre…    358.      61.9     25.0      32.5 ((-0.478222 52.65071, -0…</span></span>
<span><span class="co">#&gt; 7 St George's St…   1094.     140.      27.7      38.9 ((-0.477902 52.65231, -0…</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="local-instances">Local instances<a class="anchor" aria-label="anchor" href="#local-instances"></a>
</h2>
<p>While <code>rors</code> can work with public API requests, it is primarily designed to be used together with local instances. The <code>ors_instance</code> family can be used to manage, control and build local ORS instances. The following code would jumpstart an initial instance, add an OSM extract of Rutland, add three routing profiles, set a random port, 100 MB of RAM and finally start the ORS instance. For more details, refer to <code><a href="articles/ors-installation.html">vignette("ors-installation")</a></code>.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ors</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/ors_instance.html">ors_instance</a></span><span class="op">(</span>dir <span class="op">=</span> <span class="st">"~"</span><span class="op">)</span><span class="op">$</span></span>
<span>  <span class="fu">set_extract</span><span class="op">(</span><span class="st">"Rutland"</span>, provider <span class="op">=</span> <span class="st">"geofabrik"</span><span class="op">)</span><span class="op">$</span></span>
<span>  <span class="fu">add_profiles</span><span class="op">(</span><span class="st">"car"</span>, <span class="st">"bike-regular"</span>, <span class="st">"walking"</span><span class="op">)</span><span class="op">$</span></span>
<span>  <span class="fu">set_port</span><span class="op">(</span><span class="op">)</span><span class="op">$</span></span>
<span>  <span class="fu">set_ram</span><span class="op">(</span><span class="fl">0.1</span><span class="op">)</span><span class="op">$</span></span>
<span>  <span class="fu">up</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/JsLth/rors/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/JsLth/rors/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing rors</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Lieth Jonas <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/JsLth/rors/actions/workflows/check-standard.yaml" class="external-link"><img src="https://github.com/JsLth/rors/actions/workflows/check-standard.yaml/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://lifecycle.r-lib.org/articles/stages.html#maturing" class="external-link"><img src="https://img.shields.io/badge/lifecycle-maturing-blue.svg" alt="Lifecycle: maturing"></a></li>
<li><a href="https://cran.r-project.org/package=rors" class="external-link"><img src="https://www.r-pkg.org/badges/version/rors"></a></li>
<li><a href="https://app.codecov.io/gh/JsLth/rors?branch=master" class="external-link"><img src="https://codecov.io/gh/JsLth/rors/branch/master/graph/badge.svg" alt="Codecov test coverage"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Lieth Jonas.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
