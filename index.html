<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Routing using OpenRouteService • rors</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/Roboto-0.4.9/font.css" rel="stylesheet">
<link href="deps/JetBrains_Mono-0.4.9/font.css" rel="stylesheet">
<link href="deps/Roboto_Slab-0.4.9/font.css" rel="stylesheet">
<link href="deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Routing using OpenRouteService">
<meta name="description" content="Flexible and opinionated interface to local and remote OpenRouteService instances. The package enables qualitative and quantitative route computations, accessbility analyses, distance matrix calculations, street snapping and graph network exports. It is primarily aimed at processing larger datasets with controlled server-side limitations. R6 classes support the setup and and management of custom OpenRouteService instances. The package functions take a tidy and graceful approach in querying and formatting the API output.">
<meta property="og:description" content="Flexible and opinionated interface to local and remote OpenRouteService instances. The package enables qualitative and quantitative route computations, accessbility analyses, distance matrix calculations, street snapping and graph network exports. It is primarily aimed at processing larger datasets with controlled server-side limitations. R6 classes support the setup and and management of custom OpenRouteService instances. The package functions take a tidy and graceful approach in querying and formatting the API output.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">rors</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.9.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="index.html"><span class="fa fa-home"></span> Overview</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-vignettes" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true"><span class="fa fa-book"></span> Vignettes</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-vignettes">
<li><a class="dropdown-item" href="articles/ors-installation.html">OpenRouteService setup</a></li>
    <li><a class="dropdown-item" href="articles/ors-routing.html">Routing functions</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="reference/index.html"><span class="fa fa-search"></span> Reference</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/JsLth/rors/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="rors-">rors <img src="reference/figures/rors_sticker.png" align="right" height="180/"><a class="anchor" aria-label="anchor" href="#rors-"></a>
</h1></div>
<!-- badges: start -->

<!-- badges: end -->
<p>The purpose of <code>rors</code> is to provide a tidy, pipeable and comprehensive R interface to local or remote <a href="https://openrouteservice.org/" class="external-link">OpenRouteService</a> (ORS) instances. <code>rors</code> currently enables analyses based on all available endpoints:</p>
<ul>
<li>Qualitative and quantitative routing computations</li>
<li>Distance matrices</li>
<li>Accessibility analyses</li>
<li>Street snapping</li>
<li>Graph network export</li>
</ul>
<p>Functions are designed to be pipeable, API calls are performed gracefully and the results are tidied up to digestible (sf) tibbles.</p>
<p>Another important feature of <code>rors</code> is the setup and management of local OpenRouteService instances from scratch. Local instances facilitate computationally intensive data analyses and allow the definition of custom API configurations. While it is possible to use <code>rors</code> with the official web API, requests will be very slow due to rate restrictions and therefore not really suitable for larger scale analyses.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of <code>rors</code> from <a href="https://github.com/jslth/rors" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"jslth/rors"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="basic-usage">Basic usage<a class="anchor" aria-label="anchor" href="#basic-usage"></a>
</h2>
<p>To connect to a running OpenRouteService server - or to build a new one, use the workhorse function <code>ors_instance</code>:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/JsLth/rors" class="external-link">rors</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-spatial.github.io/sf/" class="external-link">sf</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># API keys are stored in the ORS_TOKEN environment variable</span></span>
<span><span class="va">ors</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/ors_instance.html">ors_instance</a></span><span class="op">(</span>server <span class="op">=</span> <span class="st">"public"</span><span class="op">)</span></span></code></pre></div>
<p>The ORS instance is then attached to the session and is automatically detected by all other functions. To perform a simple routing request, run <code>ors_inspect</code>:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/ors_inspect.html">ors_inspect</a></span><span class="op">(</span><span class="va">pharma</span>, profile <span class="op">=</span> <span class="st">"driving-car"</span>, level <span class="op">=</span> <span class="st">"segment"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Simple feature collection with 7 features and 5 fields</span></span>
<span><span class="co">#&gt; Geometry type: MULTILINESTRING</span></span>
<span><span class="co">#&gt; Dimension:     XY</span></span>
<span><span class="co">#&gt; Bounding box:  xmin: -0.730349 ymin: 52.5876 xmax: -0.467708 ymax: 52.67472</span></span>
<span><span class="co">#&gt; Geodetic CRS:  WGS 84</span></span>
<span><span class="co">#&gt; # A tibble: 7 × 6</span></span>
<span><span class="co">#&gt;   name            distance duration avgspeed elevation                  geometry</span></span>
<span><span class="co">#&gt;   &lt;chr&gt;              &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;     &lt;MULTILINESTRING [°]&gt;</span></span>
<span><span class="co">#&gt; 1 Uppingham Road…   9983.     618.      69.8     120.  ((-0.722324 52.58762, -0…</span></span>
<span><span class="co">#&gt; 2 High Street, B…     26.3      2.4     39.4     112   ((-0.727928 52.66962, -0…</span></span>
<span><span class="co">#&gt; 3 Uppingham Road…  10059.     628.      68.8     120.  ((-0.728317 52.66962, -0…</span></span>
<span><span class="co">#&gt; 4 Uppingham Road…  10642.     676.      69.8     122.  ((-0.721097 52.58816, -0…</span></span>
<span><span class="co">#&gt; 5 Stamford Road,…  19187.    1144.      63.5      78.4 ((-0.730349 52.66991, -0…</span></span>
<span><span class="co">#&gt; 6 St Mary's Stre…    358.      61.9     25.0      34.9 ((-0.478222 52.65071, -0…</span></span>
<span><span class="co">#&gt; 7 St George's St…   1094.     140.      27.7      38.5 ((-0.477902 52.65231, -0…</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="local-instances">Local instances<a class="anchor" aria-label="anchor" href="#local-instances"></a>
</h2>
<p>While <code>rors</code> can work with public API requests, it is primarily designed to be used together with local instances. The <code>ors_instance</code> family can be used to manage, control and build local ORS instances. The following code would jumpstart an initial instance, add an OSM extract of Rutland, add three routing profiles, set a random port, 100 MB of RAM and finally start the ORS instance. For more details, refer to <a href="https://jslth.github.io/rors/articles/ors-installation.html"><code>vignette("ors-installation")</code></a>.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ors</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/ors_instance.html">ors_instance</a></span><span class="op">(</span><span class="op">)</span><span class="op">$</span></span>
<span>  <span class="fu">set_extract</span><span class="op">(</span><span class="st">"Rutland"</span><span class="op">)</span><span class="op">$</span></span>
<span>  <span class="fu">add_profiles</span><span class="op">(</span><span class="st">"car"</span>, <span class="st">"bike-regular"</span>, <span class="st">"walking"</span><span class="op">)</span><span class="op">$</span></span>
<span>  <span class="fu">set_port</span><span class="op">(</span><span class="op">)</span><span class="op">$</span></span>
<span>  <span class="fu">set_ram</span><span class="op">(</span><span class="fl">0.1</span><span class="op">)</span><span class="op">$</span></span>
<span>  <span class="fu">up</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/JsLth/rors/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/JsLth/rors/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing rors</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Jonas Lieth <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/JsLth/rors/actions/workflows/check-standard.yaml" class="external-link"><img src="https://github.com/JsLth/rors/actions/workflows/check-standard.yaml/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://lifecycle.r-lib.org/articles/stages.html#maturing" class="external-link"><img src="https://img.shields.io/badge/lifecycle-maturing-blue.svg" alt="Lifecycle: maturing"></a></li>
<li><a href="https://cran.r-project.org/package=rors" class="external-link"><img src="https://www.r-pkg.org/badges/version/rors"></a></li>
<li><a href="https://app.codecov.io/gh/JsLth/rors?branch=master" class="external-link"><img src="https://codecov.io/gh/JsLth/rors/branch/master/graph/badge.svg" alt="Codecov test coverage"></a></li>
<li><a href="https://www.codefactor.io/repository/github/jslth/rors/overview/master" class="external-link"><img src="https://www.codefactor.io/repository/github/jslth/rors/badge/master" alt="CodeFactor"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Jonas Lieth.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
