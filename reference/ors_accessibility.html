<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>ORS accessibility maps — ors_accessibility • rors</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.9/font.css" rel="stylesheet"><link href="../deps/JetBrains_Mono-0.4.9/font.css" rel="stylesheet"><link href="../deps/Roboto_Slab-0.4.9/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="ORS accessibility maps — ors_accessibility"><meta name="description" content="ors_accessibility returns isochrone or isodistance data
for a set of source points, either as polygons or as a raster."><meta property="og:description" content="ors_accessibility returns isochrone or isodistance data
for a set of source points, either as polygons or as a raster."><meta property="og:image" content="https://jslth.github.io/rors/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">rors</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.9.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../index.html"><span class="fa fa-home"></span> Overview</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-vignettes" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true"><span class="fa fa-book"></span> Vignettes</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-vignettes"><li><a class="dropdown-item" href="../articles/ors-installation.html">OpenRouteService setup</a></li>
    <li><a class="dropdown-item" href="../articles/ors-routing.html">Routing functions</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html"><span class="fa fa-search"></span> Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/JsLth/rors/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>ORS accessibility maps</h1>
      <small class="dont-index">Source: <a href="https://github.com/JsLth/rors/blob/master/R/isochrones.R" class="external-link"><code>R/isochrones.R</code></a></small>
      <div class="d-none name"><code>ors_accessibility.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>ors_accessibility</code> returns isochrone or isodistance data
for a set of source points, either as polygons or as a raster.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">ors_accessibility</span><span class="op">(</span></span>
<span>  <span class="va">src</span>,</span>
<span>  profile <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  range <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">200</span>, <span class="fl">300</span><span class="op">)</span>,</span>
<span>  attributes <span class="op">=</span> <span class="st">"area"</span>,</span>
<span>  intersections <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  interval <span class="op">=</span> <span class="fl">30</span>,</span>
<span>  location_type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"start"</span>, <span class="st">"destination"</span><span class="op">)</span>,</span>
<span>  range_type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"time"</span>, <span class="st">"distance"</span><span class="op">)</span>,</span>
<span>  smoothing <span class="op">=</span> <span class="fl">25</span>,</span>
<span>  area_units <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"m"</span>, <span class="st">"km"</span>, <span class="st">"mi"</span><span class="op">)</span>,</span>
<span>  units <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"m"</span>, <span class="st">"km"</span>, <span class="st">"mi"</span><span class="op">)</span>,</span>
<span>  rasterize <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  raster_resolution <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">100</span><span class="op">)</span>,</span>
<span>  instance <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  params <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-src">src<a class="anchor" aria-label="anchor" href="#arg-src"></a></dt>
<dd><p><code>[sf/sfc]</code></p>
<p>Source dataset containing point geometries that should be routed from.</p></dd>


<dt id="arg-profile">profile<a class="anchor" aria-label="anchor" href="#arg-profile"></a></dt>
<dd><p><code>[character]</code></p>
<p>Means of transport as supported by OpenRouteService.
Defaults to the first profile in a call to <code><a href="get_instance.html">get_profiles</a></code>.
For <code>ors_shortest_distances</code>, <code>profile</code> can be a character
vector, for all other functions it needs to be a character scalar.
For details on all profiles, refer to the
<a href="https://giscience.github.io/openrouteservice/technical-details/tag-filtering" class="external-link">backend reference</a>.</p></dd>


<dt id="arg-range">range<a class="anchor" aria-label="anchor" href="#arg-range"></a></dt>
<dd><p><code>[character]</code></p>
<p>If length-1, specifies the maximum range which
can be further broken down using the argument <code>interval</code>. If of length
larger than 1, specifies manual breaks. The unit can be controlled using the
argument <code>range_type</code>.</p></dd>


<dt id="arg-attributes">attributes<a class="anchor" aria-label="anchor" href="#arg-attributes"></a></dt>
<dd><p><code>[character]</code></p>
<p>Additional features to be included the output. Only relevant
if <code>rasterize = FALSE</code>. Can be one of <code>"area"</code>, <code>"reachfactor"</code>
and <code>"total_pop"</code>.</p></dd>


<dt id="arg-intersections">intersections<a class="anchor" aria-label="anchor" href="#arg-intersections"></a></dt>
<dd><p><code>[logical]</code></p>
<p>Whether to return the overlapping area of seperate isochrones. If
<code>TRUE</code>, the response will not contain the actual isochrones but only
their intersections. See below for details. Defaults to <code>FALSE</code>.</p></dd>


<dt id="arg-interval">interval<a class="anchor" aria-label="anchor" href="#arg-interval"></a></dt>
<dd><p><code>[integer]</code></p>
<p>If <code>range</code> is a length-1 vector, defines the distance interval to break
down the isochrones. For example, if <code>range</code> is 300 and <code>interval</code>
is 50, creates 6 isochrones where each isochrone is 50 units further from
the center. If <code>length(range) &gt; 1</code>, this argument is ignored. Defaults
to 30.</p></dd>


<dt id="arg-location-type">location_type<a class="anchor" aria-label="anchor" href="#arg-location-type"></a></dt>
<dd><p><code>[character]</code></p>
<p>Whether to route from (<code>"start"</code>) or to (<code>"destination"</code>) the
points of the input data. Defaults to <code>"start"</code>.</p></dd>


<dt id="arg-range-type">range_type<a class="anchor" aria-label="anchor" href="#arg-range-type"></a></dt>
<dd><p><code>[character]</code></p>
<p>Type of distance that the calculations should be based on. <code>"time"</code>
produces isochrones while <code>"distance"</code> produces isodistance polygons.
Defaults to <code>"time"</code>.</p></dd>


<dt id="arg-smoothing">smoothing<a class="anchor" aria-label="anchor" href="#arg-smoothing"></a></dt>
<dd><p><code>[integer]</code></p>
<p>Smoothing factor between 0 and 100 to be applied to the polygon geometries.
For details, refer to the API playground. Defaults to 25.</p></dd>


<dt id="arg-area-units">area_units<a class="anchor" aria-label="anchor" href="#arg-area-units"></a></dt>
<dd><p><code>[character]</code></p>
<p>Distance unit to use for the <code>area</code> attribute from <code>attributes</code>.
Defaults to <code>"m"</code>.</p></dd>


<dt id="arg-units">units<a class="anchor" aria-label="anchor" href="#arg-units"></a></dt>
<dd><p><code>[character]</code></p>
<p>Units to be used for the <code>range</code> argument if <code>range_type = "distance"</code>.
Defaults to <code>"m"</code>.</p></dd>


<dt id="arg-rasterize">rasterize<a class="anchor" aria-label="anchor" href="#arg-rasterize"></a></dt>
<dd><p><code>[logical]</code></p>
<p>If <code>FALSE</code>, returns the isochrone polygon geometries. If <code>TRUE</code>,
aggregates polygon distance values onto a vector grid and then rasterizes
the vector grid to a <code>SpatRaster</code> object created using
<code><a href="https://rspatial.github.io/terra/reference/rast.html" class="external-link">rast</a></code>. When rasterizing, only the distance value is
preserved while all variables specified in <code>attributes</code> are discarded.
Requires the <code>terra</code> package to be installed. Defaults to
<code>FALSE</code>.</p></dd>


<dt id="arg-raster-resolution">raster_resolution<a class="anchor" aria-label="anchor" href="#arg-raster-resolution"></a></dt>
<dd><p><code>[numeric]</code></p>
<p>If <code>rasterize = TRUE</code>, specifies the resolution of the template raster.
Corresponds to the number of cells in each direction (x, y). This argument is
passed on to <code><a href="https://r-spatial.github.io/sf/reference/st_make_grid.html" class="external-link">st_make_grid</a></code> and <code><a href="https://rspatial.github.io/terra/reference/rast.html" class="external-link">rast</a></code>.
Defaults to 100x100.</p></dd>


<dt id="arg-instance">instance<a class="anchor" aria-label="anchor" href="#arg-instance"></a></dt>
<dd><p><code>[ors_instance]</code></p>
<p>Object of an OpenRouteService instance that should be used for route
computations. It is recommended to use <code><a href="ors_instance.html">ors_instance</a></code>
to set an instance globally. This argument should only be used if activating
an instance globally is not feasible.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional arguments passed to the ORS API. This includes all
options that modify the routing results. For details on each argument,
refer to the
<a href="https://openrouteservice.org/dev/#/api-docs/v2/isochrones/%7Bprofile%7D/post" class="external-link">API playground</a>
and
<a href="https://giscience.github.io/openrouteservice/api-reference/endpoints/directions/routing-options" class="external-link">documentation</a>.
Reasonable arguments include <code>avoid_borders</code>, <code>avoid_countries</code>,
<code>avoid_features</code>, <code>avoid_polygons</code>, profile parameters, and
<code>vehicle_type</code>.</p></dd>


<dt id="arg-params">params<a class="anchor" aria-label="anchor" href="#arg-params"></a></dt>
<dd><p>List of additional arguments passed to the ORS API. See
<code><a href="ors_params.html">ors_params</a></code> for details.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>If <code>rasterize = FALSE</code> and <code>intersections = FALSE</code>,
returns an <code>sf</code> object containing the isochrone or isodistance polygon
geometries as well as additional attributes. Each polygon's outer lines
represent places of equal distance or travel time from or to the respective
point in the source dataset.</p>
<p>If <code>rasterize = TRUE</code>, returns a
<code>raster</code> object with a discrete value classification.</p>
<p>If <code>intersections = TRUE</code>, returns an <code>sf</code> dataframe containing
the intersections between two respective isochrones and their indices.
The response contains four indices. Index names starting <code>a_*</code>
specify the first isochrone of the intersection and names starting with
<code>b_*</code> specify the second isochrone. Index names ending with
<code>*_index</code> correspond to the <code>group_index</code> of the isochrones.
Index names ending with <code>*_range</code> correspond to the index of values
in the <code>range</code> argument. For example, if <code>range = c(200, 300)</code>,
a <code>a_range</code> of 1 would correspond to 300. Taken together, each
intersection can be assigned to two isochrone and each isochrone can be
identified using their group index and their respective range.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"pharma"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Returns a polygon sf dataframe divided by four 15 minute time breaks.</span></span></span>
<span class="r-in"><span><span class="co"># Also contains information on the area and population inside the isochrones.</span></span></span>
<span class="r-in"><span><span class="fu">ors_accessibility</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">pharma</span>,</span></span>
<span class="r-in"><span>  profile <span class="op">=</span> <span class="st">"driving-car"</span>,</span></span>
<span class="r-in"><span>  range <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">900</span>, <span class="fl">1800</span>, <span class="fl">2700</span>, <span class="fl">3600</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  attributes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"area"</span>, <span class="st">"total_pop"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  location_type <span class="op">=</span> <span class="st">"start"</span>,</span></span>
<span class="r-in"><span>  range_type <span class="op">=</span> <span class="st">"time"</span>,</span></span>
<span class="r-in"><span>  rasterize <span class="op">=</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Returns a raster image classified by 3 distance intervals</span></span></span>
<span class="r-in"><span><span class="fu">ors_accessibility</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">pharma</span>,</span></span>
<span class="r-in"><span>  profile <span class="op">=</span> <span class="st">"driving-car"</span>,</span></span>
<span class="r-in"><span>  range <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1000</span>, <span class="fl">5000</span>, <span class="fl">10000</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  location_type <span class="op">=</span> <span class="st">"destination"</span>,</span></span>
<span class="r-in"><span>  range_type <span class="op">=</span> <span class="st">"distance"</span>,</span></span>
<span class="r-in"><span>  rasterize <span class="op">=</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Returns a polygon sf dataframe that is broken down every 50 meters up until</span></span></span>
<span class="r-in"><span><span class="co"># the maximum distance of 500 meters.</span></span></span>
<span class="r-in"><span><span class="fu">ors_accessibility</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">pharma</span>,</span></span>
<span class="r-in"><span>  profile <span class="op">=</span> <span class="st">"cycling-regular"</span>,</span></span>
<span class="r-in"><span>  range <span class="op">=</span> <span class="fl">500</span>,</span></span>
<span class="r-in"><span>  location_type <span class="op">=</span> <span class="st">"start"</span>,</span></span>
<span class="r-in"><span>  interval <span class="op">=</span> <span class="fl">50</span>,</span></span>
<span class="r-in"><span>  range_type <span class="op">=</span> <span class="st">"distance"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Returns the intersections of the above isochrones</span></span></span>
<span class="r-in"><span><span class="fu">ors_accessibility</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">pharma</span>,</span></span>
<span class="r-in"><span>  intersections <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>  profile <span class="op">=</span> <span class="st">"cycling-regular"</span>,</span></span>
<span class="r-in"><span>  range <span class="op">=</span> <span class="fl">500</span>,</span></span>
<span class="r-in"><span>  location_type <span class="op">=</span> <span class="st">"start"</span>,</span></span>
<span class="r-in"><span>  interval <span class="op">=</span> <span class="fl">50</span>,</span></span>
<span class="r-in"><span>  range_type <span class="op">=</span> <span class="st">"distance"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Jonas Lieth.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

