[{"path":"https://jslth.github.io/rors/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2021 rors authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://jslth.github.io/rors/articles/ors-installation.html","id":"why-do-the-routing-functions-not-work-off-the-shelf","dir":"Articles","previous_headings":"","what":"Why do the routing functions not work off the shelf?","title":"Installing and setting up OpenRouteService locally","text":"rors powered OpenRouteService (ORS) depends running ORS instance. mount working ORS instance first, routing functions throw error. OpenRouteService instance server can communicated using specified REST API. can public API kind remote server runs ORS self-built ORS local host Instances controlled ors_instance functions ORS setup function family. resulting ors_instance object automatically attached session detected routing functions package. interest setting local instance just want make quick routing requests, can grab free API key official website chuck ORS_TOKEN environment variable. best practice without exposing token R code, e.g. .Renviron file. , can call ors_instance attach token session.   , functions ready use. Keep mind though, public API comes caveats: restricted rate limit 40 requests per minute 2000 requests per day. rors automatically throttles requests public API queries inevitably slow larger analyses. remote service handles potentially sensitive address data. data privacy concern, online services usually option. runs relatively strict configuration severely limits amount data ways process data. example, requests isochrone endpoint allowed contain maximum five locations:  Therefore, plan working larger datasets, limited server-side restrictions public API, ’re handling sensitive data, strongly suggested set local instance. vignette cover usage ors_instance family construct start customized ORS instance using R.","code":"# `server = \"pub\"` is short for https://api.openrouteservice.org/ public <- ors_instance(server = \"pub\") public public$token ors_accessibility(pharma)"},{"path":"https://jslth.github.io/rors/articles/ors-installation.html","id":"setting-up-the-service-backend","dir":"Articles","previous_headings":"","what":"Setting up the service backend","title":"Installing and setting up OpenRouteService locally","text":"order set ORS backend locally, need three things: Docker OpenStreetMap extract desired region compose file telling Docker set ORS , Docker needs installed beforehand. ors_instance can verify installation start Docker, assist installation process. can get Docker . Local ORS instances use Docker containers host service endpoints local server. OpenStreetMap (OSM) extracts regional data files OSM project. contains spatial information relevant routing streets, buildings natural features. OSM extracts distributed providers Geofabrik bbbike. rors wraps osmextract package match, download, process extract files. Finally, compose file file instructs Docker create container. ors_instance function helps adjust file, e.g. change allocated memory ports. can initialize local ORS instance passing directory ors_instance. function creates sub-directory reserved ORS downloads compose file official ORS Github repository. proceeds “jumpstart” ORS, .e. starts default instance default configurations OSM data Heidelberg, Germany. probably want, worry , can make changes setup afterwards. Jumpstarting deemed good practice ORS developer team simplifies rest setup.  Immediately , can take service make changes ORS setup:  resulting ors_instance object stored cache environment entire R session. API functions automatically detect currently mounted instance.  instance object already shows important information printed. dealing local instance localhost. instance “active” currently mounted session “init” already built first time. ors R6 object provides multiple methods set custom ORS instance. methods can divided four categories: Extract: Methods fields interact OSM extracts Config: Methods fields interact configuration Settings: Methods fields interact compose file Docker: Methods fields interact Docker","code":"ors <- ors_instance(dir = \".\", version = \"7c77ae5\", prompts = FALSE) ors$down() get_instance()"},{"path":"https://jslth.github.io/rors/articles/ors-installation.html","id":"changing-the-extract","dir":"Articles","previous_headings":"Setting up the service backend","what":"Changing the extract","title":"Installing and setting up OpenRouteService locally","text":"wanted learn currently selected OSM extract, can run:  can see, currently running default OSM file. wanted get new extract, can run:  code runs osmextract::oe_match osmextract::oe_download download extract British county Rutland. extract automatically added compose file, don’t need anything else.","code":"ors$extract ors$set_extract(\"Rutland\", provider = \"geofabrik\")"},{"path":"https://jslth.github.io/rors/articles/ors-installation.html","id":"changing-the-configuration","dir":"Articles","previous_headings":"Setting up the service backend","what":"Changing the configuration","title":"Installing and setting up OpenRouteService locally","text":"ORS creates ors-config.yml file inside ORS directory holds configuration service. ever used ORS , chances encountered errors told server-side limits. config file place limits defined can change setup. configuration especially includes active routing profiles, profile-specific options endpoint-specific options. Routing profiles transport modes used routing . default driving-car, several profiles can choose (refer API playground). can learn currently active routing profiles:  can see, currently one active profile: driving-car. add profiles, can use $add_profiles method. method accepts either character values objects class ors_profile - combination . quickly adding new profile, can simply refer name.  However, routing profile comes set configurations. better control configurations profile, can create ors_profile objects. following code creates walking profile defaults , without taking account elevation routing computations.  remove profile, can refer name:  Besides routing profiles, can also change configuration entire endpoints. Endpoints include directions, isochrones matrix. endpoint comes limitations. example, default can create isochrones 2 locations. increase limit, can run:  full list endpoint defaults set ORS can found endpoint reference. full list profiles specific configuration defaults can found profile reference.","code":"ors$config ors$add_profiles(\"walking\", ors_profile(\"hiking\")) ors_profile(\"walking\", elevation = FALSE) ors$rm_profiles(\"hiking\") ors$set_endpoints(isochrone = list(maximum_locations = 100))"},{"path":"https://jslth.github.io/rors/articles/ors-installation.html","id":"changing-the-compose-file","dir":"Articles","previous_headings":"Setting up the service backend","what":"Changing the compose file","title":"Installing and setting up OpenRouteService locally","text":"final step starting setup check container settings aka docker-compose.yml file. can check current status compose file printing:  default, ORS uses 1 GB initial memory 2 GB maximum memory. means Docker starts allocating 1 GB memory, allowed allocate maximum 2 GB. can adjust defaults needs using $set_ram. Usually, ORS requires 2.5 times size extract file routing profile memory. can either set memory manually let $set_ram make educated guess:    Similarly, passing anything compose methods, makes freestyle. $set_name() creates random container name $set_port() assigns random port.","code":"ors$compose # Not passing anything tells `$set_ram` to freestyle ors$set_ram() # Alternatively, pass values directly (as GB) ors$set_ram(init = 0.1, max = 0.2) ors$compose$memory ors$set_name() ors$compose$name ors$set_port() ors$compose$ports"},{"path":"https://jslth.github.io/rors/articles/ors-installation.html","id":"docker","dir":"Articles","previous_headings":"Setting up the service backend","what":"Docker","title":"Installing and setting up OpenRouteService locally","text":"final step ORS setup start Docker container , ultimately, service. Docker container can controlled purpose-tailored high-level Docker interface understands following commands: Build start container ($() / docker-compose -d) Take container ($() / docker-compose ) Start container ($start() / docker-compose start) Stop container ($stop() / docker-compose stop) Show logs ($show_logs() / docker logs) service can started using $() method:  default, $() blocks console setup done gives visual audible notification upon completion. setup fails, $() immediately invokes informative error. useful short moderately long setup times. However, especially longer setups, can obtrusive. passing wait = FALSE, entire setup happens background process can keep using console. two tools enable monitor setup progress nonetheless: $show_logs(): Prints ORS logs console. setup fail, first place look errors. fact, $(wait = TRUE) also uses Docker logs determine errors setup. $is_ready(): Shows whether setup done ORS ready use. accesses health endpoint determine whether setup completed without errors. $is_ready() simple wrapper around ors_ready() polls currently mounted ORS instance. ors_ready() returns TRUE, officially ready use rest package functions!","code":"ors$up()"},{"path":"https://jslth.github.io/rors/articles/ors-installation.html","id":"manual-changes","dir":"Articles","previous_headings":"","what":"Manual changes","title":"Installing and setting up OpenRouteService locally","text":"methods ORS instance object cover settings configurations. Many functionalities deliberately left keep number methods neat tidy. missing important feature, feel free open Github issue. Yet, can always make manual changes . methods introduced merely convenience wrappers take care tedious tasks. Parsed versions ors-config.yml docker-compose.yml readily accessible instance object:   objects lists, can simply modified: One caveat simple assignments change state object, state actual files. synchronize ORS file system, $update() making manual changes: command writes current state parsed ORS files disk. Conversely, make manual changes one relevant ORS files, can update R instance object using: command re-parses ORS files. , advisable make majority changes using convenience wrappers automatically update mount instance object. Manually updating instance prone errors can quite hard spot debug.","code":"ors$config$parsed ors$compose$parsed ors$compose$parsed$services$`ors-app`$container_name <- \"new-name-123\" ors$update() ors$update(\"self\")"},{"path":"https://jslth.github.io/rors/articles/ors-installation.html","id":"other-methods","dir":"Articles","previous_headings":"","what":"Other methods","title":"Installing and setting up OpenRouteService locally","text":"ORS instance objects contain important functions didn’t make vignette. Among : $is_built() / $is_running(): Check whether container built running. two steps service ready useful monitor container service ready. $is_mounted(): Checks whether instance currently mounted session. case, simply invoke one methods (e.g. $update()) mount . $get_image() / $get_container() Return useful diagnostics image container. $get_status(): Returns configurations attributes ORS service (given service ready). $purge(): Purges ORS instance, .e. takes containers, deletes ORS directory cleans instance object. $rm_extract(): Removes one several extracts ORS directory. $report(): Prints situation report ORS instance object.","code":""},{"path":"https://jslth.github.io/rors/articles/ors-installation.html","id":"fin","dir":"Articles","previous_headings":"","what":"Fin","title":"Installing and setting up OpenRouteService locally","text":"finalize ORS instance, can run ors$purge(). Purging instance takes running container, (optionally) deletes image, unlinks created sub-directory cleans ORS object.","code":"ors$purge()"},{"path":"https://jslth.github.io/rors/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Jonas Lieth. Author, maintainer.","code":""},{"path":"https://jslth.github.io/rors/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Lieth J (2024). rors: Routing using OpenRouteService. R package version 1.0.9.9000, https://jslth.github.io/rors/, https://github.com/JsLth/rors.","code":"@Manual{,   title = {rors: Routing using OpenRouteService},   author = {Jonas Lieth},   year = {2024},   note = {R package version 1.0.9.9000, https://jslth.github.io/rors/},   url = {https://github.com/JsLth/rors}, }"},{"path":"https://jslth.github.io/rors/index.html","id":"rors","dir":"","previous_headings":"","what":"Routing using OpenRouteService","title":"Routing using OpenRouteService","text":"purpose rors provide tidy, pipeable comprehensive R interface local remote OpenRouteService (ORS) instances. rors currently enables analyses based available endpoints: Qualitative quantitative routing computations Distance matrices Accessibility analyses Street snapping Graph network export Functions designed pipeable, API calls performed gracefully results tidied digestible (sf) tibbles. Another important feature rors setup management local OpenRouteService instances scratch. Local instances facilitate computationally intensive data analyses allow definition custom API configurations. possible use rors official web API, requests slow due rate restrictions therefore really suitable larger scale analyses.","code":""},{"path":"https://jslth.github.io/rors/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Routing using OpenRouteService","text":"can install development version rors GitHub :","code":"# install.packages(\"devtools\") devtools::install_github(\"jslth/rors\")"},{"path":"https://jslth.github.io/rors/index.html","id":"basic-usage","dir":"","previous_headings":"","what":"Basic usage","title":"Routing using OpenRouteService","text":"connect running OpenRouteService server - build new one, use workhorse function ors_instance: ORS instance attached session automatically detected functions. perform simple routing request, run ors_inspect:","code":"library(rors) #> © openrouteservice.org by HeiGIT | Data © OpenStreetMap contributors, ODbL 1.0. https://www.openstreetmap.org/copyright library(sf) #> Warning: Paket 'sf' wurde unter R Version 4.3.2 erstellt #> Linking to GEOS 3.11.2, GDAL 3.7.2, PROJ 9.3.0; sf_use_s2() is TRUE  # API keys are stored in the ORS_TOKEN environment variable ors <- ors_instance(server = \"public\") ors_inspect(pharma, profile = \"driving-car\", level = \"segment\") #> Simple feature collection with 7 features and 5 fields #> Geometry type: MULTILINESTRING #> Dimension:     XY #> Bounding box:  xmin: -0.730349 ymin: 52.5876 xmax: -0.467708 ymax: 52.6747 #> Geodetic CRS:  WGS 84 #> # A tibble: 7 × 6 #>   name            distance duration avgspeed elevation                  geometry #>   <chr>                [m]      [s]   [km/h]       [m]     <MULTILINESTRING [°]> #> 1 Uppingham Road…   9983.     618.      69.8     121.  ((-0.722324 52.58762, -0… #> 2 High Street, B…     26.3      2.4     39.4     111.  ((-0.727928 52.66962, -0… #> 3 Uppingham Road…  10059.     628.      68.8     120.  ((-0.728317 52.66962, -0… #> 4 Uppingham Road…  10642.     676.      69.8     123.  ((-0.721097 52.58816, -0… #> 5 Stamford Road,…  19188.    1137.      66.0      77.9 ((-0.730349 52.66991, -0… #> 6 St Mary's Stre…    358.      61.9     25.0      32.5 ((-0.478222 52.65071, -0… #> 7 St George's St…   1094.     140.      27.7      38.9 ((-0.477902 52.65231, -0…"},{"path":"https://jslth.github.io/rors/index.html","id":"local-instances","dir":"","previous_headings":"","what":"Local instances","title":"Routing using OpenRouteService","text":"rors can work public API requests, primarily designed used together local instances. ors_instance family can used manage, control build local ORS instances. following code jumpstart initial instance, add OSM extract Rutland, add three routing profiles, set random port, 100 MB RAM finally start ORS instance. details, refer vignette(\"ors-installation\").","code":"ors <- ors_instance(dir = \"~\")$   set_extract(\"Rutland\", provider = \"geofabrik\")$   add_profiles(\"car\", \"bike-regular\", \"walking\")$   set_port()$   set_ram(0.1)$   up()"},{"path":"https://jslth.github.io/rors/reference/ORSDocker.html","id":null,"dir":"Reference","previous_headings":"","what":"ORS Docker instance — ORSDocker","title":"ORS Docker instance — ORSDocker","text":"Creates new ORS instance object operates Docker instance OpenRouteService. R6 class typically constructed ors_instance. ORSDocker requires Docker installed system accessible current user. requirements met, consider using ORSJar ORSWar. technical details setup local ORS instances, refer Running Docker documentation. details use ORSDocker objects, refer installation vignette:","code":"vignette(\"ors-installation\", package = \"rors\")"},{"path":"https://jslth.github.io/rors/reference/ORSDocker.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"ORS Docker instance — ORSDocker","text":"ORSDocker defines methods four steps ORS setup: Extract: Download extract set graph building. Compose: Change docker settings control service set . Configuration: Change way ORS computes routes. Docker: Send commands docker control ORS container.","code":""},{"path":"https://jslth.github.io/rors/reference/ORSDocker.html","id":"docker-commands","dir":"Reference","previous_headings":"","what":"Docker commands","title":"ORS Docker instance — ORSDocker","text":"Local ORS instances built using Docker containers. Initializing ORSLocal downloads docker-compose.yml file tells Docker build ORS container. Docker backend pulled Docker image (see Dockerhub). rors communicates Docker within R setup manage ORS containers. Unix systems, Docker requires superuser permissions. Unix shells, problematic. However, R communicate Docker without explicitly granted superuser permissions least permissions access Docker. Thus, ORSLocal checks current user superuser current user access Docker group. , aborts. details manage Docker non-root user Linux, refer Docker documentation. Note procedure grants root-level privileges user can negatively impact system's security.","code":""},{"path":"https://jslth.github.io/rors/reference/ORSDocker.html","id":"manual-changes","dir":"Reference","previous_headings":"","what":"Manual changes","title":"ORS Docker instance — ORSDocker","text":"ORSLocal provides range convenience methods change setup ORS instance. methods automatically read write changes disk. also possible make direct changes (parsed) configuration compose files. case, reading writing also need done manually. write changes disk, run $update(), e.g.: read changes done manually files disk, run $update(\"self\").","code":"ors$compose$parsed$services$`ors-app`$container_name <- \"new-name-123\"  ors$update()"},{"path":"https://jslth.github.io/rors/reference/ORSDocker.html","id":"configuration-files","dir":"Reference","previous_headings":"","what":"Configuration files","title":"ORS Docker instance — ORSDocker","text":"Contrary written ORS documentation, ORSLocal search pre-defined configuration file. Instead, explicitly creates configuration file runtime directory. Configurations passed using .env file changes configuration file done using .yml file due easier reading writing within R. Accordingly, changes made .env file overwritten $update(\"fs\") called read using $update(\"self\"). manual changes made .yml file. Alternative configuration files can specified modifying ORS_CONFIG_LOCATION option compose file:","code":"ors$compose$parsed$services$`ors-app`$environment$ORS_CONFIG_LOCATION <- \"ors-config.yml\" ors$update()"},{"path":"https://jslth.github.io/rors/reference/ORSDocker.html","id":"super-classes","dir":"Reference","previous_headings":"","what":"Super classes","title":"ORS Docker instance — ORSDocker","text":"rors::ORSInstance -> rors::ORSLocal -> ORSDocker","code":""},{"path":"https://jslth.github.io/rors/reference/ORSDocker.html","id":"public-fields","dir":"Reference","previous_headings":"","what":"Public fields","title":"ORS Docker instance — ORSDocker","text":"paths List relevant file paths ORS setup. Includes top directory, compose file, config file, extract file. version Version local ORS backend compose Information compose file (docker-compose.yml). compose file holds various settings Docker setup. important settings included field: ports: 2×2 matrix Docker ports name: Name Docker container memory: List memory information total free system memory well initial max memory allocated Docker instance. image: Version ORS image. \"latest\" refers latest stable version. \"nightly\" refers devel version. parsed: Parsed compose file. making changes object, make sure run $update() apply changes. details, refer official reference. config Information configuration file (ors-config.yml). config file holds various options ORS instance. field gives details : profiles: named vector active routing profiles parsed: Parsed configuration file. making changes obhect, make sure run $update() apply changes. details, refer ORS reference. extract Information extract file. Contains name size selected extract file.","code":""},{"path":"https://jslth.github.io/rors/reference/ORSDocker.html","id":"methods","dir":"Reference","previous_headings":"","what":"Methods","title":"ORS Docker instance — ORSDocker","text":"rors::ORSInstance$get_status() rors::ORSInstance$get_url() rors::ORSInstance$is_mounted() rors::ORSInstance$is_ready() rors::ORSLocal$add_profiles() rors::ORSLocal$report() rors::ORSLocal$rm_extract() rors::ORSLocal$rm_profiles() rors::ORSLocal$set_endpoints() rors::ORSLocal$set_extract() rors::ORSLocal$update()","code":""},{"path":"https://jslth.github.io/rors/reference/ORSDocker.html","id":"public-methods","dir":"Reference","previous_headings":"","what":"Public methods","title":"ORS Docker instance — ORSDocker","text":"ORSDocker$new() ORSDocker$purge() ORSDocker$set_name() ORSDocker$set_port() ORSDocker$set_memory() ORSDocker$set_graphbuilding() ORSDocker$set_image() ORSDocker$() ORSDocker$() ORSDocker$start() ORSDocker$stop() ORSDocker$get_image() ORSDocker$get_container() ORSDocker$show_logs() ORSDocker$is_built() ORSDocker$is_running() ORSDocker$is_init() ORSDocker$clone()","code":""},{"path":"https://jslth.github.io/rors/reference/ORSDocker.html","id":"method-new-","dir":"Reference","previous_headings":"","what":"Method new()","title":"ORS Docker instance — ORSDocker","text":"Initialize ORSDocker object.","code":""},{"path":"https://jslth.github.io/rors/reference/ORSDocker.html","id":"usage","dir":"Reference","previous_headings":"","what":"Usage","title":"ORS Docker instance — ORSDocker","text":"","code":"ORSDocker$new(   dir = \".\",   version = NULL,   overwrite = FALSE,   dry = FALSE,   verbose = TRUE,   prompts = interactive(),   ... )"},{"path":"https://jslth.github.io/rors/reference/ORSDocker.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"ORS Docker instance — ORSDocker","text":"dir [character] Custom OpenRouteService directory. specified, compose file downloaded current working directory. directory called \"openrouteservice-{version}\" present, download skipped. Ignored server NULL. version [character] OpenRouteService version use. Can either version number (e.g. 8.1.1) \"master\". Defaults recent supported version. overwrite [logical] Whether overwrite current OpenRouteService directory exists. dry [logical] Whether start dry instance, .e. initialize docker instance without requiring docker. allows manipulate config, compose file, extract allow interact docker. verbose [logical] Level verbosity. TRUE, shows informative warnings messages, spinners, progress bars system notifications. prompts [logical] Whether ask permission throughout setup. Defaults TRUE interactive sessions. ... used.","code":""},{"path":"https://jslth.github.io/rors/reference/ORSDocker.html","id":"method-purge-","dir":"Reference","previous_headings":"","what":"Method purge()","title":"ORS Docker instance — ORSDocker","text":"Purge ORS instance, .e. take container, (optionally) delete image, delete ORS directory, clean R6 class. method can useful testing writing reproducible examples can easily used together .exit.","code":""},{"path":"https://jslth.github.io/rors/reference/ORSDocker.html","id":"usage-1","dir":"Reference","previous_headings":"","what":"Usage","title":"ORS Docker instance — ORSDocker","text":"","code":"ORSDocker$purge(image = FALSE)"},{"path":"https://jslth.github.io/rors/reference/ORSDocker.html","id":"arguments-1","dir":"Reference","previous_headings":"","what":"Arguments","title":"ORS Docker instance — ORSDocker","text":"image [logical] Whether remove docker image keep projects. default FALSE prevent accidentally breaking projects.","code":""},{"path":"https://jslth.github.io/rors/reference/ORSDocker.html","id":"method-set-name-","dir":"Reference","previous_headings":"","what":"Method set_name()","title":"ORS Docker instance — ORSDocker","text":"Set name ORS container.","code":""},{"path":"https://jslth.github.io/rors/reference/ORSDocker.html","id":"usage-2","dir":"Reference","previous_headings":"","what":"Usage","title":"ORS Docker instance — ORSDocker","text":"","code":"ORSDocker$set_name(name = NULL)"},{"path":"https://jslth.github.io/rors/reference/ORSDocker.html","id":"arguments-2","dir":"Reference","previous_headings":"","what":"Arguments","title":"ORS Docker instance — ORSDocker","text":"name Name ORS container. NULL, generates random name (\"ors-appXXXX\").","code":""},{"path":"https://jslth.github.io/rors/reference/ORSDocker.html","id":"method-set-port-","dir":"Reference","previous_headings":"","what":"Method set_port()","title":"ORS Docker instance — ORSDocker","text":"Set port localhost ORS container.","code":""},{"path":"https://jslth.github.io/rors/reference/ORSDocker.html","id":"usage-3","dir":"Reference","previous_headings":"","what":"Usage","title":"ORS Docker instance — ORSDocker","text":"","code":"ORSDocker$set_port(port = NULL)"},{"path":"https://jslth.github.io/rors/reference/ORSDocker.html","id":"arguments-3","dir":"Reference","previous_headings":"","what":"Arguments","title":"ORS Docker instance — ORSDocker","text":"port [numeric]/NULL Port use container. Can vector length 1 2. first port API, second port optionally additional monitoring. NULL, assigns random port using randomPort().","code":""},{"path":"https://jslth.github.io/rors/reference/ORSDocker.html","id":"method-set-memory-","dir":"Reference","previous_headings":"","what":"Method set_memory()","title":"ORS Docker instance — ORSDocker","text":"Set initial max memory ORS container allowed use.","code":""},{"path":"https://jslth.github.io/rors/reference/ORSDocker.html","id":"usage-4","dir":"Reference","previous_headings":"","what":"Usage","title":"ORS Docker instance — ORSDocker","text":"","code":"ORSDocker$set_memory(init = NULL, max = NULL)"},{"path":"https://jslth.github.io/rors/reference/ORSDocker.html","id":"arguments-4","dir":"Reference","previous_headings":"","what":"Arguments","title":"ORS Docker instance — ORSDocker","text":"init [numeric/NULL] Initial memory. can change memory needed. specified, uses max. NULL, estimates memory. max [numeric/NULL] Maximum memory. container allowed use memory value. specified, uses init. NULL, estimates memory.","code":""},{"path":"https://jslth.github.io/rors/reference/ORSDocker.html","id":"method-set-graphbuilding-","dir":"Reference","previous_headings":"","what":"Method set_graphbuilding()","title":"ORS Docker instance — ORSDocker","text":"Graph building specifies whether routing graphs (re-)built. Turning graph building enables new profiles built extract changed significantly increases setup time. Turn changing configuration options alter routing graphs.","code":""},{"path":"https://jslth.github.io/rors/reference/ORSDocker.html","id":"usage-5","dir":"Reference","previous_headings":"","what":"Usage","title":"ORS Docker instance — ORSDocker","text":"","code":"ORSDocker$set_graphbuilding(mode)"},{"path":"https://jslth.github.io/rors/reference/ORSDocker.html","id":"arguments-5","dir":"Reference","previous_headings":"","what":"Arguments","title":"ORS Docker instance — ORSDocker","text":"mode [logical] Whether turn graph building .","code":""},{"path":"https://jslth.github.io/rors/reference/ORSDocker.html","id":"method-set-image-","dir":"Reference","previous_headings":"","what":"Method set_image()","title":"ORS Docker instance — ORSDocker","text":"Set version ORS Docker image. preferably compatible compose version.","code":""},{"path":"https://jslth.github.io/rors/reference/ORSDocker.html","id":"usage-6","dir":"Reference","previous_headings":"","what":"Usage","title":"ORS Docker instance — ORSDocker","text":"","code":"ORSDocker$set_image(version)"},{"path":"https://jslth.github.io/rors/reference/ORSDocker.html","id":"arguments-6","dir":"Reference","previous_headings":"","what":"Arguments","title":"ORS Docker instance — ORSDocker","text":"version [character] Version specification ORS image.","code":""},{"path":"https://jslth.github.io/rors/reference/ORSDocker.html","id":"method-up-","dir":"Reference","previous_headings":"","what":"Method up()","title":"ORS Docker instance — ORSDocker","text":"Create ORS docker container setup ORS backend local host.","code":""},{"path":"https://jslth.github.io/rors/reference/ORSDocker.html","id":"usage-7","dir":"Reference","previous_headings":"","what":"Usage","title":"ORS Docker instance — ORSDocker","text":"","code":"ORSDocker$up(wait = TRUE, ...)"},{"path":"https://jslth.github.io/rors/reference/ORSDocker.html","id":"arguments-7","dir":"Reference","previous_headings":"","what":"Arguments","title":"ORS Docker instance — ORSDocker","text":"wait logical Whether run spinner show system notification setup completed. FALSE releases console Docker container created. can check service status using $is_ready(). ... Additional flags passed docker command.","code":""},{"path":"https://jslth.github.io/rors/reference/ORSDocker.html","id":"details-1","dir":"Reference","previous_headings":"","what":"Details","title":"ORS Docker instance — ORSDocker","text":"exact command run $() : docker compose -p [name] -f [compose file] -d ---build [...] -p flag allows docker run multiple ORS containers keep separate. uses service name defined compose file. found, $() builds underlying OpenRouteService docker image specified version initialization ORSLocal. Usually detach mode (-d), docker returns terminal control back user. default, $() blocks console, checks errors notifies user service setup finished. behavior can suppresed setting wait = FALSE. service status can checked using $is_ready() ors_ready(). Container logs can accessed typing docker logs [name] terminal.","code":""},{"path":"https://jslth.github.io/rors/reference/ORSDocker.html","id":"method-down-","dir":"Reference","previous_headings":"","what":"Method down()","title":"ORS Docker instance — ORSDocker","text":"Stop remove ORS docker container. Use want make changes running ORS setup changing extract selected profiles.","code":""},{"path":"https://jslth.github.io/rors/reference/ORSDocker.html","id":"usage-8","dir":"Reference","previous_headings":"","what":"Usage","title":"ORS Docker instance — ORSDocker","text":"","code":"ORSDocker$down()"},{"path":"https://jslth.github.io/rors/reference/ORSDocker.html","id":"method-start-","dir":"Reference","previous_headings":"","what":"Method start()","title":"ORS Docker instance — ORSDocker","text":"Start ORS docker container.","code":""},{"path":"https://jslth.github.io/rors/reference/ORSDocker.html","id":"usage-9","dir":"Reference","previous_headings":"","what":"Usage","title":"ORS Docker instance — ORSDocker","text":"","code":"ORSDocker$start(wait = TRUE)"},{"path":"https://jslth.github.io/rors/reference/ORSDocker.html","id":"arguments-8","dir":"Reference","previous_headings":"","what":"Arguments","title":"ORS Docker instance — ORSDocker","text":"wait logical Whether run spinner show system notification setup completed. FALSE releases console Docker container created. can check service status using $is_ready().","code":""},{"path":"https://jslth.github.io/rors/reference/ORSDocker.html","id":"method-stop-","dir":"Reference","previous_headings":"","what":"Method stop()","title":"ORS Docker instance — ORSDocker","text":"Stop ORS docker container.","code":""},{"path":"https://jslth.github.io/rors/reference/ORSDocker.html","id":"usage-10","dir":"Reference","previous_headings":"","what":"Usage","title":"ORS Docker instance — ORSDocker","text":"","code":"ORSDocker$stop()"},{"path":"https://jslth.github.io/rors/reference/ORSDocker.html","id":"method-get-image-","dir":"Reference","previous_headings":"","what":"Method get_image()","title":"ORS Docker instance — ORSDocker","text":"Retrieve technical information docker image used.","code":""},{"path":"https://jslth.github.io/rors/reference/ORSDocker.html","id":"usage-11","dir":"Reference","previous_headings":"","what":"Usage","title":"ORS Docker instance — ORSDocker","text":"","code":"ORSDocker$get_image()"},{"path":"https://jslth.github.io/rors/reference/ORSDocker.html","id":"method-get-container-","dir":"Reference","previous_headings":"","what":"Method get_container()","title":"ORS Docker instance — ORSDocker","text":"Retrieve technical information docker container used.","code":""},{"path":"https://jslth.github.io/rors/reference/ORSDocker.html","id":"usage-12","dir":"Reference","previous_headings":"","what":"Usage","title":"ORS Docker instance — ORSDocker","text":"","code":"ORSDocker$get_container()"},{"path":"https://jslth.github.io/rors/reference/ORSDocker.html","id":"method-show-logs-","dir":"Reference","previous_headings":"","what":"Method show_logs()","title":"ORS Docker instance — ORSDocker","text":"Show container logs returned docker logs. Useful debugging docker setups.","code":""},{"path":"https://jslth.github.io/rors/reference/ORSDocker.html","id":"usage-13","dir":"Reference","previous_headings":"","what":"Usage","title":"ORS Docker instance — ORSDocker","text":"","code":"ORSDocker$show_logs(format = TRUE)"},{"path":"https://jslth.github.io/rors/reference/ORSDocker.html","id":"arguments-9","dir":"Reference","previous_headings":"","what":"Arguments","title":"ORS Docker instance — ORSDocker","text":"format [logical] TRUE, includes ANSI colors adds exdents. Otherwise, trims ANSI colors. Disabling formatting increases performance, can useful larger logs.","code":""},{"path":"https://jslth.github.io/rors/reference/ORSDocker.html","id":"method-is-built-","dir":"Reference","previous_headings":"","what":"Method is_built()","title":"ORS Docker instance — ORSDocker","text":"Checks ORS container built. can control state using $() $().","code":""},{"path":"https://jslth.github.io/rors/reference/ORSDocker.html","id":"usage-14","dir":"Reference","previous_headings":"","what":"Usage","title":"ORS Docker instance — ORSDocker","text":"","code":"ORSDocker$is_built()"},{"path":"https://jslth.github.io/rors/reference/ORSDocker.html","id":"method-is-running-","dir":"Reference","previous_headings":"","what":"Method is_running()","title":"ORS Docker instance — ORSDocker","text":"Checks ORS container running. can control state using $start() $stop(). Check $is_ready() see ORS setup succeeded.","code":""},{"path":"https://jslth.github.io/rors/reference/ORSDocker.html","id":"usage-15","dir":"Reference","previous_headings":"","what":"Usage","title":"ORS Docker instance — ORSDocker","text":"","code":"ORSDocker$is_running()"},{"path":"https://jslth.github.io/rors/reference/ORSDocker.html","id":"method-is-init-","dir":"Reference","previous_headings":"","what":"Method is_init()","title":"ORS Docker instance — ORSDocker","text":"Checks ORS initialized. ORS initialized built first time. initialized ORS instance subdirectory called \"graphs\" contains built graphs least one routing profile. $is_init() therefore checks existence least one sub-directory \"graphs\".","code":""},{"path":"https://jslth.github.io/rors/reference/ORSDocker.html","id":"usage-16","dir":"Reference","previous_headings":"","what":"Usage","title":"ORS Docker instance — ORSDocker","text":"","code":"ORSDocker$is_init()"},{"path":"https://jslth.github.io/rors/reference/ORSDocker.html","id":"method-clone-","dir":"Reference","previous_headings":"","what":"Method clone()","title":"ORS Docker instance — ORSDocker","text":"objects class cloneable method.","code":""},{"path":"https://jslth.github.io/rors/reference/ORSDocker.html","id":"usage-17","dir":"Reference","previous_headings":"","what":"Usage","title":"ORS Docker instance — ORSDocker","text":"","code":"ORSDocker$clone(deep = FALSE)"},{"path":"https://jslth.github.io/rors/reference/ORSDocker.html","id":"arguments-10","dir":"Reference","previous_headings":"","what":"Arguments","title":"ORS Docker instance — ORSDocker","text":"deep Whether make deep clone.","code":""},{"path":"https://jslth.github.io/rors/reference/ORSDocker.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"ORS Docker instance — ORSDocker","text":"","code":"if (FALSE) { # \\dontrun{ # Download ORS, start docker and jumpstart a default session ors <- ors_instance(tempdir())  # Set a new extract file ors$set_extract(\"Rutland\")  # Allocate 100 MB of RAM ors$set_ram(0.1)  # Add a routing profile walking <- ors_profile(\"walking\") ors$add_profiles(walking)  # Set random port ors$set_port()  # Change project name ors$set_name(\"example-ors\")  # Set up ORS ors$up()  # Check if ORS container exists and is running ors$is_built() ors$is_running()  # Check if ORS is ready to use ors$is_ready()  # Stop container, e.g. to make configuration changes ors$stop()  # Make changes to the configuration ors$set_endpoints(matrix = list(maximum_routes = 1e+05)) # default is 2500  # Change default profile settings default <- ors_profile(maximum_snapping_radius = -1) ors$add_profiles(default)  # If we make manual changes to the configuration, we need to apply the # changes explicitly ors$config$parsed$ors$engine$profiles$car$elevation <- FALSE ors$update() # writes the current object state to the disk  # If the compose or config files are changed on disk, the object can be # refreshed ors$update(\"self\") # reads the disk state to the R object  # Adding profiles does not work when the container is still built! # Why? Because graphs need to be built for new profiles, so the container # must be down. if (FALSE) {   bike <- ors_profile(\"bike-road\")   ors$add_profiles(bike) # only do this when the container is down!! }  # Additionally, graphs are only re-built if we enable graph building. # When changing the extract, this happens automatically, but we can also # control graph building manually, e.g. for adding new profiles. ors$set_graphbuilding(TRUE)  # Finally, start the container again to run the newly configured service ors$start() } # }"},{"path":"https://jslth.github.io/rors/reference/ORSInstance.html","id":null,"dir":"Reference","previous_headings":"","what":"ORS instance — ORSInstance","title":"ORS instance — ORSInstance","text":"R6 class foundation R6 classes ORSLocal ORSRemote initialized. defines methods check status information remote ORS server mount R session.","code":""},{"path":[]},{"path":"https://jslth.github.io/rors/reference/ORSInstance.html","id":"public-methods","dir":"Reference","previous_headings":"","what":"Public methods","title":"ORS instance — ORSInstance","text":"ORSInstance$is_ready() ORSInstance$get_status() ORSInstance$is_mounted() ORSInstance$get_url() ORSInstance$clone()","code":""},{"path":"https://jslth.github.io/rors/reference/ORSInstance.html","id":"method-is-ready-","dir":"Reference","previous_headings":"","what":"Method is_ready()","title":"ORS instance — ORSInstance","text":"Checks ORS ready use. TRUE, routing functions can used.","code":""},{"path":"https://jslth.github.io/rors/reference/ORSInstance.html","id":"usage","dir":"Reference","previous_headings":"","what":"Usage","title":"ORS instance — ORSInstance","text":"","code":"ORSInstance$is_ready()"},{"path":"https://jslth.github.io/rors/reference/ORSInstance.html","id":"method-get-status-","dir":"Reference","previous_headings":"","what":"Method get_status()","title":"ORS instance — ORSInstance","text":"Retrieves information ORS server.","code":""},{"path":"https://jslth.github.io/rors/reference/ORSInstance.html","id":"usage-1","dir":"Reference","previous_headings":"","what":"Usage","title":"ORS instance — ORSInstance","text":"","code":"ORSInstance$get_status()"},{"path":"https://jslth.github.io/rors/reference/ORSInstance.html","id":"method-is-mounted-","dir":"Reference","previous_headings":"","what":"Method is_mounted()","title":"ORS instance — ORSInstance","text":"Checks whether instance currently mounted session. technically, $is_mounted compares MD5 hashes R6 object currently mounted instance. Hence, instance counts mounted exactly currently mounted instance. instance manually manipulated updated $update() thus considered mounted.","code":""},{"path":"https://jslth.github.io/rors/reference/ORSInstance.html","id":"usage-2","dir":"Reference","previous_headings":"","what":"Usage","title":"ORS instance — ORSInstance","text":"","code":"ORSInstance$is_mounted()"},{"path":"https://jslth.github.io/rors/reference/ORSInstance.html","id":"method-get-url-","dir":"Reference","previous_headings":"","what":"Method get_url()","title":"ORS instance — ORSInstance","text":"Constructs URL used communicate OpenRouteService. Except ORSRemote, output aspirational URL, .e. works successful setup.","code":""},{"path":"https://jslth.github.io/rors/reference/ORSInstance.html","id":"usage-3","dir":"Reference","previous_headings":"","what":"Usage","title":"ORS instance — ORSInstance","text":"","code":"ORSInstance$get_url()"},{"path":"https://jslth.github.io/rors/reference/ORSInstance.html","id":"method-clone-","dir":"Reference","previous_headings":"","what":"Method clone()","title":"ORS instance — ORSInstance","text":"objects class cloneable method.","code":""},{"path":"https://jslth.github.io/rors/reference/ORSInstance.html","id":"usage-4","dir":"Reference","previous_headings":"","what":"Usage","title":"ORS instance — ORSInstance","text":"","code":"ORSInstance$clone(deep = FALSE)"},{"path":"https://jslth.github.io/rors/reference/ORSInstance.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"ORS instance — ORSInstance","text":"deep Whether make deep clone.","code":""},{"path":"https://jslth.github.io/rors/reference/ORSJar.html","id":null,"dir":"Reference","previous_headings":"","what":"ORS JAR instance — ORSJar","title":"ORS JAR instance — ORSJar","text":"Creates new ORS instance object operates JAR instance OpenRouteservice, .e. instance started using .jar file. R6 class typically constructed ors_instance. ORSJar requires JDK >= 17 installed system. requirement met, consider using ORSDocker ORSWar. technical details setup local ORS instances, refer Running JAR documentation. details use ORSJar objects, refer installation vignette:","code":"vignette(\"ors-installation\", package = \"rors\")"},{"path":"https://jslth.github.io/rors/reference/ORSJar.html","id":"super-classes","dir":"Reference","previous_headings":"","what":"Super classes","title":"ORS JAR instance — ORSJar","text":"rors::ORSInstance -> rors::ORSLocal -> ORSJar","code":""},{"path":"https://jslth.github.io/rors/reference/ORSJar.html","id":"public-fields","dir":"Reference","previous_headings":"","what":"Public fields","title":"ORS JAR instance — ORSJar","text":"paths List relevant file paths ORS setup. Includes top directory, config file, extract file. proc processx process used control external process running OpenRouteService instance. Refer process reference methods.","code":""},{"path":"https://jslth.github.io/rors/reference/ORSJar.html","id":"methods","dir":"Reference","previous_headings":"","what":"Methods","title":"ORS JAR instance — ORSJar","text":"rors::ORSInstance$get_status() rors::ORSInstance$get_url() rors::ORSInstance$is_mounted() rors::ORSInstance$is_ready() rors::ORSLocal$add_profiles() rors::ORSLocal$report() rors::ORSLocal$rm_extract() rors::ORSLocal$rm_profiles() rors::ORSLocal$set_endpoints() rors::ORSLocal$set_extract() rors::ORSLocal$update()","code":""},{"path":"https://jslth.github.io/rors/reference/ORSJar.html","id":"public-methods","dir":"Reference","previous_headings":"","what":"Public methods","title":"ORS JAR instance — ORSJar","text":"ORSJar$new() ORSJar$purge() ORSJar$set_port() ORSJar$show_logs() ORSJar$() ORSJar$stop() ORSJar$is_init() ORSJar$is_running() ORSJar$clone()","code":""},{"path":"https://jslth.github.io/rors/reference/ORSJar.html","id":"method-new-","dir":"Reference","previous_headings":"","what":"Method new()","title":"ORS JAR instance — ORSJar","text":"Initialize ORSJar object.","code":""},{"path":"https://jslth.github.io/rors/reference/ORSJar.html","id":"usage","dir":"Reference","previous_headings":"","what":"Usage","title":"ORS JAR instance — ORSJar","text":"","code":"ORSJar$new(   dir,   version = NULL,   overwrite = FALSE,   dry = FALSE,   verbose = TRUE,   ... )"},{"path":"https://jslth.github.io/rors/reference/ORSJar.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"ORS JAR instance — ORSJar","text":"dir [character] Custom OpenRouteService directory. specified, jar file downloaded current working directory. directory called \"openrouteservice-{version}\" present, download skipped. Ignored server NULL. version [character] OpenRouteService version use. Can either version number (e.g. 8.1.1) \"master\". Defaults recent supported version. overwrite [logical] Whether overwrite current OpenRouteService directory exists. dry [logical] Whether start instance, .e. initialize ORSJar instance without downloading executable. allows manipulate config extract files allow interact java. verbose [logical] Level verbosity. TRUE, shows informative warnings messages, spinners, progress bars system notifications. ... used.","code":""},{"path":"https://jslth.github.io/rors/reference/ORSJar.html","id":"method-purge-","dir":"Reference","previous_headings":"","what":"Method purge()","title":"ORS JAR instance — ORSJar","text":"Purge ORS instance, .e. take container, (optionally) delete image, delete ORS directory, clean R6 class. method can useful testing writing reproducible examples can easily used together .exit.","code":""},{"path":"https://jslth.github.io/rors/reference/ORSJar.html","id":"usage-1","dir":"Reference","previous_headings":"","what":"Usage","title":"ORS JAR instance — ORSJar","text":"","code":"ORSJar$purge()"},{"path":"https://jslth.github.io/rors/reference/ORSJar.html","id":"method-set-port-","dir":"Reference","previous_headings":"","what":"Method set_port()","title":"ORS JAR instance — ORSJar","text":"Set HTTP port spring server.","code":""},{"path":"https://jslth.github.io/rors/reference/ORSJar.html","id":"usage-2","dir":"Reference","previous_headings":"","what":"Usage","title":"ORS JAR instance — ORSJar","text":"","code":"ORSJar$set_port(port = NULL)"},{"path":"https://jslth.github.io/rors/reference/ORSJar.html","id":"arguments-1","dir":"Reference","previous_headings":"","what":"Arguments","title":"ORS JAR instance — ORSJar","text":"port [numeric]/NULL Port use. NULL, assigns random port using randomPort().","code":""},{"path":"https://jslth.github.io/rors/reference/ORSJar.html","id":"method-show-logs-","dir":"Reference","previous_headings":"","what":"Method show_logs()","title":"ORS JAR instance — ORSJar","text":"Show logs OpenRouteService. Useful debugging docker setups.","code":""},{"path":"https://jslth.github.io/rors/reference/ORSJar.html","id":"usage-3","dir":"Reference","previous_headings":"","what":"Usage","title":"ORS JAR instance — ORSJar","text":"","code":"ORSJar$show_logs(source = c(\"logfile\", \"process\"))"},{"path":"https://jslth.github.io/rors/reference/ORSJar.html","id":"arguments-2","dir":"Reference","previous_headings":"","what":"Arguments","title":"ORS JAR instance — ORSJar","text":"source [logical] retrieve logs . \"process\", reads standard output external process running OpenRouteService. \"logfile\", reads log file top directory. Generally, log file provides less information, stores logs previous runs. process logs reset every run. Process logs also much error-prone.","code":""},{"path":"https://jslth.github.io/rors/reference/ORSJar.html","id":"method-up-","dir":"Reference","previous_headings":"","what":"Method up()","title":"ORS JAR instance — ORSJar","text":"Run ors.jar start local OpenRouteService server. Creates attribute ORSJar called proc stores external process used run server. running server can () stopped using $stop() method.","code":""},{"path":"https://jslth.github.io/rors/reference/ORSJar.html","id":"usage-4","dir":"Reference","previous_headings":"","what":"Usage","title":"ORS JAR instance — ORSJar","text":"","code":"ORSJar$up(wait = TRUE, init = NULL, max = NULL, ...)"},{"path":"https://jslth.github.io/rors/reference/ORSJar.html","id":"arguments-3","dir":"Reference","previous_headings":"","what":"Arguments","title":"ORS JAR instance — ORSJar","text":"wait [wait] Whether wait server start give visual audible notification. FALSE, returns control console back user. status OpenRouteService server can polled using proc attribute. init [numeric/NULL] Initial memory. can change memory needed. specified, uses max. NULL, estimates memory. max [numeric/NULL] Maximum memory. container allowed use memory value. specified, uses init. NULL, estimates memory. ... options passed java command.","code":""},{"path":"https://jslth.github.io/rors/reference/ORSJar.html","id":"method-stop-","dir":"Reference","previous_headings":"","what":"Method stop()","title":"ORS JAR instance — ORSJar","text":"Stops running OpenRouteService instance killing external process.","code":""},{"path":"https://jslth.github.io/rors/reference/ORSJar.html","id":"usage-5","dir":"Reference","previous_headings":"","what":"Usage","title":"ORS JAR instance — ORSJar","text":"","code":"ORSJar$stop()"},{"path":"https://jslth.github.io/rors/reference/ORSJar.html","id":"method-is-init-","dir":"Reference","previous_headings":"","what":"Method is_init()","title":"ORS JAR instance — ORSJar","text":"Checks ORS initialized. ORS initialized built first time. initialized ORS instance subdirectory called \"graphs\" contains built graphs least one routing profile. $is_init() therefore checks existence least one sub-directory \"graphs\".","code":""},{"path":"https://jslth.github.io/rors/reference/ORSJar.html","id":"usage-6","dir":"Reference","previous_headings":"","what":"Usage","title":"ORS JAR instance — ORSJar","text":"","code":"ORSJar$is_init()"},{"path":"https://jslth.github.io/rors/reference/ORSJar.html","id":"method-is-running-","dir":"Reference","previous_headings":"","what":"Method is_running()","title":"ORS JAR instance — ORSJar","text":"Checks ORS process running. can control state using $() $stop(). Check $is_ready() see ORS setup succeeded.","code":""},{"path":"https://jslth.github.io/rors/reference/ORSJar.html","id":"usage-7","dir":"Reference","previous_headings":"","what":"Usage","title":"ORS JAR instance — ORSJar","text":"","code":"ORSJar$is_running()"},{"path":"https://jslth.github.io/rors/reference/ORSJar.html","id":"method-clone-","dir":"Reference","previous_headings":"","what":"Method clone()","title":"ORS JAR instance — ORSJar","text":"objects class cloneable method.","code":""},{"path":"https://jslth.github.io/rors/reference/ORSJar.html","id":"usage-8","dir":"Reference","previous_headings":"","what":"Usage","title":"ORS JAR instance — ORSJar","text":"","code":"ORSJar$clone(deep = FALSE)"},{"path":"https://jslth.github.io/rors/reference/ORSJar.html","id":"arguments-4","dir":"Reference","previous_headings":"","what":"Arguments","title":"ORS JAR instance — ORSJar","text":"deep Whether make deep clone.","code":""},{"path":"https://jslth.github.io/rors/reference/ORSJar.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"ORS JAR instance — ORSJar","text":"","code":"if (FALSE) { # \\dontrun{ # create a new ORS instance of type JAR # downloads ors.jar to a new directory ors <- ors_instance(type = \"jar\")  # set a random port to ensure that the port is not used ors$set_port()  # download and set an OSM file ors$set_extract(\"Rutland\")  # run an OpenRouteService server ors$up()  # the external process that runs the server is stored in the object ors$proc$is_alive() # should return true  # retrieve runtime logs ors$show_logs()  # stop the server ors$stop() } # }"},{"path":"https://jslth.github.io/rors/reference/ORSLocal.html","id":null,"dir":"Reference","previous_headings":"","what":"Local ORS instance — ORSLocal","title":"Local ORS instance — ORSLocal","text":"R6 class foundation R6 classes ORSDocker, ORSJar ORSWar initialized. defines methods manage modify configurations extracts OpenRouteService.","code":""},{"path":"https://jslth.github.io/rors/reference/ORSLocal.html","id":"super-class","dir":"Reference","previous_headings":"","what":"Super class","title":"Local ORS instance — ORSLocal","text":"rors::ORSInstance -> ORSLocal","code":""},{"path":"https://jslth.github.io/rors/reference/ORSLocal.html","id":"public-fields","dir":"Reference","previous_headings":"","what":"Public fields","title":"Local ORS instance — ORSLocal","text":"paths List relevant file paths ORS setup. Includes top directory, compose file, config file extract file. version Version local ORS backend config Information configuration file (ors-config.yml). config file holds various options ORS instance. field gives details : profiles: named vector active routing profiles parsed: Parsed configuration file. making changes obhect, make sure run $update() apply changes. details, refer ORS reference. extract Information extract file. Contains name size selected extract file.","code":""},{"path":"https://jslth.github.io/rors/reference/ORSLocal.html","id":"methods","dir":"Reference","previous_headings":"","what":"Methods","title":"Local ORS instance — ORSLocal","text":"rors::ORSInstance$get_status() rors::ORSInstance$get_url() rors::ORSInstance$is_mounted() rors::ORSInstance$is_ready()","code":""},{"path":"https://jslth.github.io/rors/reference/ORSLocal.html","id":"public-methods","dir":"Reference","previous_headings":"","what":"Public methods","title":"Local ORS instance — ORSLocal","text":"ORSLocal$update() ORSLocal$report() ORSLocal$set_extract() ORSLocal$rm_extract() ORSLocal$add_profiles() ORSLocal$rm_profiles() ORSLocal$set_endpoints() ORSLocal$clone()","code":""},{"path":"https://jslth.github.io/rors/reference/ORSLocal.html","id":"method-update-","dir":"Reference","previous_headings":"","what":"Method update()","title":"Local ORS instance — ORSLocal","text":"Updates ORS instance. Use apply changes made either file system ors_instance object . method automatically called using method ors_instance changes ORS setup.","code":""},{"path":"https://jslth.github.io/rors/reference/ORSLocal.html","id":"usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Local ORS instance — ORSLocal","text":"","code":"ORSLocal$update(what = c(\"fs\", \"self\"))"},{"path":"https://jslth.github.io/rors/reference/ORSLocal.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Local ORS instance — ORSLocal","text":"[character] Whether change file system changes R update instance object changes file system. = \"self\", parses relevant files ORS directory updates ors_instance object. = \"fs\", updates compose file config file based changes made ors_instance object.","code":""},{"path":"https://jslth.github.io/rors/reference/ORSLocal.html","id":"method-report-","dir":"Reference","previous_headings":"","what":"Method report()","title":"Local ORS instance — ORSLocal","text":"Prints situation report ORS instance. Invokes relevant print methods summarize current state instance object.","code":""},{"path":"https://jslth.github.io/rors/reference/ORSLocal.html","id":"usage-1","dir":"Reference","previous_headings":"","what":"Usage","title":"Local ORS instance — ORSLocal","text":"","code":"ORSLocal$report()"},{"path":"https://jslth.github.io/rors/reference/ORSLocal.html","id":"method-set-extract-","dir":"Reference","previous_headings":"","what":"Method set_extract()","title":"Local ORS instance — ORSLocal","text":"Download set OpenStreetMap extract use ORS. Wrapper oe_get().","code":""},{"path":"https://jslth.github.io/rors/reference/ORSLocal.html","id":"usage-2","dir":"Reference","previous_headings":"","what":"Usage","title":"Local ORS instance — ORSLocal","text":"","code":"ORSLocal$set_extract(   place,   provider = \"geofabrik\",   timeout = NULL,   file = NULL,   do_use = TRUE,   ... )"},{"path":"https://jslth.github.io/rors/reference/ORSLocal.html","id":"arguments-1","dir":"Reference","previous_headings":"","what":"Arguments","title":"Local ORS instance — ORSLocal","text":"place [various] Place name, sf/sfc/bbox object bounding box download extract file. details, refer oe_match(). provider [character/NULL] Extract provider download extract . Available providers can found running oe_providers(). NULL, tries providers. timeout [numeric] Timeout extract downloads. Defaults getOption(\"timeout\"). file [character/NULL] Path local OSM extract. Can either full path OSM file filename OSM file data folder ORS. file specified, place provider ignored. do_use [logical] TRUE, enables graph building new extract. FALSE, change compose file . ... arguments passed oe_get().","code":""},{"path":"https://jslth.github.io/rors/reference/ORSLocal.html","id":"method-rm-extract-","dir":"Reference","previous_headings":"","what":"Method rm_extract()","title":"Local ORS instance — ORSLocal","text":"Removes extract files data directory.","code":""},{"path":"https://jslth.github.io/rors/reference/ORSLocal.html","id":"usage-3","dir":"Reference","previous_headings":"","what":"Usage","title":"Local ORS instance — ORSLocal","text":"","code":"ORSLocal$rm_extract(...)"},{"path":"https://jslth.github.io/rors/reference/ORSLocal.html","id":"arguments-2","dir":"Reference","previous_headings":"","what":"Arguments","title":"Local ORS instance — ORSLocal","text":"... File names extract files data directory. files exist removed. Can also single vector file names.","code":""},{"path":"https://jslth.github.io/rors/reference/ORSLocal.html","id":"method-add-profiles-","dir":"Reference","previous_headings":"","what":"Method add_profiles()","title":"Local ORS instance — ORSLocal","text":"Add routing profiles ORS configuration. ORS builds routing graphs active profiles.","code":""},{"path":"https://jslth.github.io/rors/reference/ORSLocal.html","id":"usage-4","dir":"Reference","previous_headings":"","what":"Usage","title":"Local ORS instance — ORSLocal","text":"","code":"ORSLocal$add_profiles(...)"},{"path":"https://jslth.github.io/rors/reference/ORSLocal.html","id":"arguments-3","dir":"Reference","previous_headings":"","what":"Arguments","title":"Local ORS instance — ORSLocal","text":"... Objects class ors_profile character strings. character string passed, interpreted ors_profile(..., template = TRUE).","code":""},{"path":"https://jslth.github.io/rors/reference/ORSLocal.html","id":"method-rm-profiles-","dir":"Reference","previous_headings":"","what":"Method rm_profiles()","title":"Local ORS instance — ORSLocal","text":"Remove routing profiles ORS configuration.","code":""},{"path":"https://jslth.github.io/rors/reference/ORSLocal.html","id":"usage-5","dir":"Reference","previous_headings":"","what":"Usage","title":"Local ORS instance — ORSLocal","text":"","code":"ORSLocal$rm_profiles(...)"},{"path":"https://jslth.github.io/rors/reference/ORSLocal.html","id":"arguments-4","dir":"Reference","previous_headings":"","what":"Arguments","title":"Local ORS instance — ORSLocal","text":"... Names routing profiles remove. \"default\" removes profile defaults. Can also single character vector.","code":""},{"path":"https://jslth.github.io/rors/reference/ORSLocal.html","id":"method-set-endpoints-","dir":"Reference","previous_headings":"","what":"Method set_endpoints()","title":"Local ORS instance — ORSLocal","text":"Change endpoint-specific configurations. Specifies options relevant entire API endpoints isochrones.","code":""},{"path":"https://jslth.github.io/rors/reference/ORSLocal.html","id":"usage-6","dir":"Reference","previous_headings":"","what":"Usage","title":"Local ORS instance — ORSLocal","text":"","code":"ORSLocal$set_endpoints(...)"},{"path":"https://jslth.github.io/rors/reference/ORSLocal.html","id":"arguments-5","dir":"Reference","previous_headings":"","what":"Arguments","title":"Local ORS instance — ORSLocal","text":"... [list/NULL] Named arguments containing configuration endpoints. Available endpoits routing, isochrones, matrix, snap. Refer application.yml list defaults.","code":""},{"path":"https://jslth.github.io/rors/reference/ORSLocal.html","id":"method-clone-","dir":"Reference","previous_headings":"","what":"Method clone()","title":"Local ORS instance — ORSLocal","text":"objects class cloneable method.","code":""},{"path":"https://jslth.github.io/rors/reference/ORSLocal.html","id":"usage-7","dir":"Reference","previous_headings":"","what":"Usage","title":"Local ORS instance — ORSLocal","text":"","code":"ORSLocal$clone(deep = FALSE)"},{"path":"https://jslth.github.io/rors/reference/ORSLocal.html","id":"arguments-6","dir":"Reference","previous_headings":"","what":"Arguments","title":"Local ORS instance — ORSLocal","text":"deep Whether make deep clone.","code":""},{"path":"https://jslth.github.io/rors/reference/ORSLocal.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Local ORS instance — ORSLocal","text":"","code":"if (FALSE) { # \\dontrun{ ors <- ors_instance(dir = \"~\", type = \"docker\") ors <- ors_instance(dir = \"~\", type = \"jar\") ors <- ors_instance(dir = \"~\", type = \"war\") } # }"},{"path":"https://jslth.github.io/rors/reference/ORSRemote.html","id":null,"dir":"Reference","previous_headings":"","what":"ORS remote instance — ORSRemote","title":"ORS remote instance — ORSRemote","text":"Creates new ORS instance object. R6 class typically constructed ors_instance. object represents remote instance, .e. existing server like public API.","code":""},{"path":"https://jslth.github.io/rors/reference/ORSRemote.html","id":"super-class","dir":"Reference","previous_headings":"","what":"Super class","title":"ORS remote instance — ORSRemote","text":"rors::ORSInstance -> ORSRemote","code":""},{"path":"https://jslth.github.io/rors/reference/ORSRemote.html","id":"public-fields","dir":"Reference","previous_headings":"","what":"Public fields","title":"ORS remote instance — ORSRemote","text":"url URL ORS server token Information API tokens","code":""},{"path":"https://jslth.github.io/rors/reference/ORSRemote.html","id":"methods","dir":"Reference","previous_headings":"","what":"Methods","title":"ORS remote instance — ORSRemote","text":"rors::ORSInstance$get_status() rors::ORSInstance$get_url() rors::ORSInstance$is_mounted() rors::ORSInstance$is_ready()","code":""},{"path":"https://jslth.github.io/rors/reference/ORSRemote.html","id":"public-methods","dir":"Reference","previous_headings":"","what":"Public methods","title":"ORS remote instance — ORSRemote","text":"ORSRemote$new() ORSRemote$clone()","code":""},{"path":"https://jslth.github.io/rors/reference/ORSRemote.html","id":"method-new-","dir":"Reference","previous_headings":"","what":"Method new()","title":"ORS remote instance — ORSRemote","text":"Initialize remote ORS instance.","code":""},{"path":"https://jslth.github.io/rors/reference/ORSRemote.html","id":"usage","dir":"Reference","previous_headings":"","what":"Usage","title":"ORS remote instance — ORSRemote","text":"","code":"ORSRemote$new(server, token = FALSE)"},{"path":"https://jslth.github.io/rors/reference/ORSRemote.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"ORS remote instance — ORSRemote","text":"server [character] URL server accepts OpenRouteService requests. can URL local remote server. official public API can accessed using shortcuts \"public\" \"pub\". Keep mind public API rate-restricted requests automatically throttled 40 requests per minute. Routing functions slow larger datasets. token [logical] Whether server requires authorization token. ORS tokens stored ORS_TOKEN environment variable. Defaults FALSE. server public API, token set TRUE.","code":""},{"path":"https://jslth.github.io/rors/reference/ORSRemote.html","id":"method-clone-","dir":"Reference","previous_headings":"","what":"Method clone()","title":"ORS remote instance — ORSRemote","text":"objects class cloneable method.","code":""},{"path":"https://jslth.github.io/rors/reference/ORSRemote.html","id":"usage-1","dir":"Reference","previous_headings":"","what":"Usage","title":"ORS remote instance — ORSRemote","text":"","code":"ORSRemote$clone(deep = FALSE)"},{"path":"https://jslth.github.io/rors/reference/ORSRemote.html","id":"arguments-1","dir":"Reference","previous_headings":"","what":"Arguments","title":"ORS remote instance — ORSRemote","text":"deep Whether make deep clone.","code":""},{"path":"https://jslth.github.io/rors/reference/ORSWar.html","id":null,"dir":"Reference","previous_headings":"","what":"ORS WAR instance — ORSWar","title":"ORS WAR instance — ORSWar","text":"R6 class currently non-functional. currently aware reliable way assert Tomcat JRE running. can help, please consider opening pull request : https://github.com/jslth/rors. Creates new ORS instance object operates WAR instance OpenRouteservice, .e. instance started using .war file. R6 class typically constructed ors_instance. ORSJar requires Tomcat >= 10 installed system. Tomcat requires Java Runtime Environment (JRE) run. Additionally, JAVA_HOME CATALINA_HOME environment variables must set start Tomcat. requirements met, consider using ORSDocker ORSJar. technical details setup local ORS instances, refer Running WAR documentation. details use ORSDocker objects, refer installation vignette:","code":"vignette(\"ors-installation\", package = \"rors\")"},{"path":"https://jslth.github.io/rors/reference/ORSWar.html","id":"super-classes","dir":"Reference","previous_headings":"","what":"Super classes","title":"ORS WAR instance — ORSWar","text":"rors::ORSInstance -> rors::ORSLocal -> ORSWar","code":""},{"path":"https://jslth.github.io/rors/reference/ORSWar.html","id":"methods","dir":"Reference","previous_headings":"","what":"Methods","title":"ORS WAR instance — ORSWar","text":"rors::ORSInstance$get_status() rors::ORSInstance$get_url() rors::ORSInstance$is_mounted() rors::ORSInstance$is_ready() rors::ORSLocal$add_profiles() rors::ORSLocal$report() rors::ORSLocal$rm_extract() rors::ORSLocal$rm_profiles() rors::ORSLocal$set_endpoints() rors::ORSLocal$set_extract() rors::ORSLocal$update()","code":""},{"path":"https://jslth.github.io/rors/reference/ORSWar.html","id":"public-methods","dir":"Reference","previous_headings":"","what":"Public methods","title":"ORS WAR instance — ORSWar","text":"ORSWar$new() ORSWar$clone()","code":""},{"path":"https://jslth.github.io/rors/reference/ORSWar.html","id":"method-new-","dir":"Reference","previous_headings":"","what":"Method new()","title":"ORS WAR instance — ORSWar","text":"Initialize ORSWar object.","code":""},{"path":"https://jslth.github.io/rors/reference/ORSWar.html","id":"usage","dir":"Reference","previous_headings":"","what":"Usage","title":"ORS WAR instance — ORSWar","text":"","code":"ORSWar$new(dir, version = NULL, overwrite = FALSE, verbose = TRUE, ...)"},{"path":"https://jslth.github.io/rors/reference/ORSWar.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"ORS WAR instance — ORSWar","text":"dir [character] Custom OpenRouteService directory. specified, war file downloaded current working directory. directory called \"openrouteservice-{version}\" present, download skipped. Ignored server NULL. version [character] OpenRouteService version use. Can either version number (e.g. 8.1.1) \"master\". Defaults recent supported version. overwrite [logical] Whether overwrite current OpenRouteService directory exists. verbose [logical] Level verbosity. TRUE, shows informative warnings messages, spinners, progress bars system notifications. ... used.","code":""},{"path":"https://jslth.github.io/rors/reference/ORSWar.html","id":"method-clone-","dir":"Reference","previous_headings":"","what":"Method clone()","title":"ORS WAR instance — ORSWar","text":"objects class cloneable method.","code":""},{"path":"https://jslth.github.io/rors/reference/ORSWar.html","id":"usage-1","dir":"Reference","previous_headings":"","what":"Usage","title":"ORS WAR instance — ORSWar","text":"","code":"ORSWar$clone(deep = FALSE)"},{"path":"https://jslth.github.io/rors/reference/ORSWar.html","id":"arguments-1","dir":"Reference","previous_headings":"","what":"Arguments","title":"ORS WAR instance — ORSWar","text":"deep Whether make deep clone.","code":""},{"path":"https://jslth.github.io/rors/reference/country_info.html","id":null,"dir":"Reference","previous_headings":"","what":"Country code table — country_info","title":"Country code table — country_info","text":"Information ORS countries associated country codes. Useful avoid_countries parameter ors_params.","code":""},{"path":"https://jslth.github.io/rors/reference/country_info.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Country code table — country_info","text":"","code":"country_info()"},{"path":"https://jslth.github.io/rors/reference/country_info.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Country code table — country_info","text":"dataframe tibble following columns: country_id Country codes used ORS name English name country","code":""},{"path":"https://jslth.github.io/rors/reference/get_instance.html","id":null,"dir":"Reference","previous_headings":"","what":"Utility functions — get_instance","title":"Utility functions — get_instance","text":"Utility functions aid setup local instances. get_instance checks existence mounted instance current session returns . ors_status returns status reported ORS server. ors_ready checks mounted service ready use. get_profiles wrapper around get_status returns active profiles mounted service. any_mounted checks instance mounted current session.","code":""},{"path":"https://jslth.github.io/rors/reference/get_instance.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Utility functions — get_instance","text":"","code":"get_instance()  ors_status(url = NULL, force = TRUE)  get_profiles(url = NULL, force = TRUE)  ors_ready(url = NULL, force = TRUE, error = FALSE)  any_mounted()"},{"path":"https://jslth.github.io/rors/reference/get_instance.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Utility functions — get_instance","text":"url [character] URL ORS server. Defaults URL currently mounted ORS instance. argument exists way explicitly specify URL query case instance easily determined. normal use, argument need specfied. force [logical] TRUE, function must query server. FALSE, information read cache possible. argument specially useful automated workflows inconvenient query server unnecessarily often. Functions like ors_pairwise ors_inspect generally force server requests functions order make subsequent calls faster. running directly, argument stay TRUE ensure accuracy output. error [logical] TRUE, gives error service ready.","code":""},{"path":"https://jslth.github.io/rors/reference/get_instance.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Utility functions — get_instance","text":"get_instance returns object class ors_instance. ors_status returns list information running service. ors_ready returns length-1 logical vector specifying service running. get_profiles returns vector containing active profiles. any_mounted returns length-1 logical.","code":""},{"path":[]},{"path":"https://jslth.github.io/rors/reference/get_instance.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Utility functions — get_instance","text":"","code":"# initialize an ORS instance ors <- ors_instance(dir = tempdir(), dry = TRUE) #> ℹ Downloading docker-compose.yml #> ℹ Using OpenRouteService version v8.1.3 #> ✔ Downloaded docker-compose.yml [182ms] #>   # confirm that instance was mounted any_mounted() # TRUE #> [1] TRUE  # retrieve the instance object get_instance() #> <ORSInstance> #>  server : http://localhost:8080/ #>  type   : local (docker) #>  active : TRUE #>  init   : FALSE  # check if the service is ready ors_ready() #> [1] FALSE  # assert the ready status try(ors_ready(error = TRUE)) #> Error : Cannot reach the OpenRouteService server. #> ℹ Did you start your local instance?  if (FALSE) { # \\dontrun{ # the following functions require a running service # retrieve a list of service options from the server ors_status()  # retrieve a list of active profiles that can be used get_profiles() } # }"},{"path":"https://jslth.github.io/rors/reference/group_by_proximity.html","id":null,"dir":"Reference","previous_headings":"","what":"Group a dataset for routing — group_by_proximity","title":"Group a dataset for routing — group_by_proximity","text":"Groups dataset containing points interest based proximity source dataset. Proximity can defined nearest neighbors (argument n) /distance buffer (radius). grouped output can used input ors_shortest_distances. Note unlike rors functions, function based routing linear Euclidean distances primarily used pre-select points interest save computing time.","code":""},{"path":"https://jslth.github.io/rors/reference/group_by_proximity.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Group a dataset for routing — group_by_proximity","text":"","code":"group_by_proximity(src, dst, n = NULL, radius = NULL)"},{"path":"https://jslth.github.io/rors/reference/group_by_proximity.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Group a dataset for routing — group_by_proximity","text":"src [sf/sfc] Source dataset containing point geometries routed . dst [sf] Dataset represents list destination points routed row source dataset. point src, number nearest points dst selected. n [numeric] Maximum number points interest around point source dataset shall returned. actual number might lower depending rows dst dataset remaining number points radius NULL. NULL, radius must provided. radius [numeric] Maximum distance point interest around point source dataset. returned points interest lie within distance source points. NULL, n must provided.","code":""},{"path":"https://jslth.github.io/rors/reference/group_by_proximity.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Group a dataset for routing — group_by_proximity","text":"Returns sf dataframe containing .group specifying row src closest point dst specified. geometry column can contain duplicated geometries point can closest point multiple rows src.","code":""},{"path":"https://jslth.github.io/rors/reference/group_by_proximity.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Group a dataset for routing — group_by_proximity","text":"","code":"library(sf) #> Linking to GEOS 3.10.2, GDAL 3.4.1, PROJ 8.2.1; sf_use_s2() is TRUE src <- pharma[1:4, ] dst <- pharma[5:8, ]  # group by n nearest points group_by_proximity(src, dst, n = 2) #> Simple feature collection with 8 features and 1 field #> Geometry type: POINT #> Dimension:     XY #> Bounding box:  xmin: -0.7303072 ymin: 52.6507 xmax: -0.4780519 ymax: 52.66998 #> Geodetic CRS:  WGS 84 #> # A tibble: 8 × 2 #>   .group              geometry #>    <int>           <POINT [°]> #> 1      1 (-0.7303072 52.66998) #> 2      1  (-0.4783052 52.6507) #> 3      2 (-0.7303072 52.66998) #> 4      2 (-0.4780519 52.65265) #> 5      3 (-0.7303072 52.66998) #> 6      3 (-0.4780519 52.65265) #> 7      4 (-0.7303072 52.66998) #> 8      4  (-0.4783052 52.6507)  # group by distance threshold group_by_proximity(src, dst, radius = 5000) #> Simple feature collection with 2 features and 1 field #> Geometry type: POINT #> Dimension:     XY #> Bounding box:  xmin: -0.7303072 ymin: 52.66998 xmax: -0.7303072 ymax: 52.66998 #> Geodetic CRS:  WGS 84 #> # A tibble: 2 × 2 #>   .group              geometry #>    <int>           <POINT [°]> #> 1      2 (-0.7303072 52.66998) #> 2      3 (-0.7303072 52.66998)  # group by distance and then by nearest points group_by_proximity(src, dst, n = 2, radius = 5000) #> Warning: ! Argument `n` is greater than the number of items in `dst` #> ℹ `n` changed to `length(dst)`. #> Warning: ! Argument `n` is greater than the number of items in `dst` #> ℹ `n` changed to `length(dst)`. #> # A tibble: 2 × 2 #>   .group              geometry #>    <int>           <POINT [°]> #> 1      2 (-0.7303072 52.66998) #> 2      3 (-0.7303072 52.66998)"},{"path":"https://jslth.github.io/rors/reference/last_ors_conditions.html","id":null,"dir":"Reference","previous_headings":"","what":"Return ORS conditions — last_ors_conditions","title":"Return ORS conditions — last_ors_conditions","text":"List errors warnings produced last call one ORS endpoints.","code":""},{"path":"https://jslth.github.io/rors/reference/last_ors_conditions.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Return ORS conditions — last_ors_conditions","text":"","code":"last_ors_conditions(last = 1L)"},{"path":"https://jslth.github.io/rors/reference/last_ors_conditions.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Return ORS conditions — last_ors_conditions","text":"last [integer] Number error lists returned. last = 2L, example, returns errors last two function calls.","code":""},{"path":"https://jslth.github.io/rors/reference/last_ors_conditions.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Return ORS conditions — last_ors_conditions","text":"","code":"if (FALSE) { # \\dontrun{ ors_pairwise(pharma, sf::st_geometry(pharma) + 100) last_ors_conditions() } # }"},{"path":"https://jslth.github.io/rors/reference/ors_accessibility.html","id":null,"dir":"Reference","previous_headings":"","what":"ORS accessibility maps — ors_accessibility","title":"ORS accessibility maps — ors_accessibility","text":"ors_accessibility returns isochrone isodistance data set source points, either polygons raster.","code":""},{"path":"https://jslth.github.io/rors/reference/ors_accessibility.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"ORS accessibility maps — ors_accessibility","text":"","code":"ors_accessibility(   src,   profile = NULL,   range = c(200, 300),   attributes = \"area\",   intersections = FALSE,   interval = 30,   location_type = c(\"start\", \"destination\"),   range_type = c(\"time\", \"distance\"),   smoothing = 25,   area_units = c(\"m\", \"km\", \"mi\"),   units = c(\"m\", \"km\", \"mi\"),   rasterize = FALSE,   raster_resolution = c(100, 100),   instance = NULL,   ...,   params = NULL )"},{"path":"https://jslth.github.io/rors/reference/ors_accessibility.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"ORS accessibility maps — ors_accessibility","text":"src [sf/sfc] Source dataset containing point geometries routed . profile [character] Means transport supported OpenRouteService. Defaults first profile call get_profiles. ors_shortest_distances, profile can character vector, functions needs character scalar. details profiles, refer documentation. range [character] length-1, specifies maximum range can broken using argument interval. length larger 1, specifies manual breaks. unit can controlled using argument range_type. attributes [character] Additional features included output. relevant rasterize = FALSE. Can one \"area\", \"reachfactor\" \"total_pop\". intersections [logical] Whether return overlapping area seperate isochrones. TRUE, response contain actual isochrones intersections. See details. Defaults FALSE. interval [integer] range length-1 vector, defines distance interval break isochrones. example, range 300 interval 50, creates 6 isochrones isochrone 50 units center. length(range) > 1, argument ignored. Defaults 30. location_type [character] Whether route (\"start\") (\"destination\") points input data. Defaults \"start\". range_type [character] Type distance calculations based . \"time\" produces isochrones \"distance\" produces isodistance polygons. Defaults \"time\". smoothing [integer] Smoothing factor 0 100 applied polygon geometries. details, refer API playground. Defaults 25. area_units [character] Distance unit use area attribute attributes. Defaults \"m\". units [character] Units used range argument range_type = \"distance\". Defaults \"m\". rasterize [logical] FALSE, returns isochrone polygon geometries. TRUE, aggregates polygon distance values onto vector grid rasterizes vector grid SpatRaster object created using rast. rasterizing, distance value preserved variables specified attributes discarded. Requires terra package installed. Defaults FALSE. raster_resolution [numeric] rasterize = TRUE, specifies resolution template raster. Corresponds number cells direction (x, y). argument passed st_make_grid rast. Defaults 100x100. instance [ors_instance] Object OpenRouteService instance used route computations. recommended use ors_instance set instance globally. argument used activating instance globally feasible. ... Additional arguments passed ORS API. includes options modify routing results. details argument, refer API playground documentation. Reasonable arguments include avoid_borders, avoid_countries, avoid_features, avoid_polygons, profile parameters, vehicle_type. params List additional arguments passed ORS API. See ors_params details.","code":""},{"path":"https://jslth.github.io/rors/reference/ors_accessibility.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"ORS accessibility maps — ors_accessibility","text":"rasterize = FALSE intersections = FALSE, returns sf object containing isochrone isodistance polygon geometries well additional attributes. polygon's outer lines represent places equal distance travel time respective point source dataset. rasterize = TRUE, returns raster object discrete value classification. intersections = TRUE, returns sf dataframe containing intersections two respective isochrones indices. response contains four indices. Index names starting a_* specify first isochrone intersection names starting b_* specify second isochrone. Index names ending *_index correspond group_index isochrones. Index names ending *_range correspond index values range argument. example, range = c(200, 300), a_range 1 correspond 300. Taken together, intersection can assigned two isochrone isochrone can identified using group index respective range.","code":""},{"path":"https://jslth.github.io/rors/reference/ors_accessibility.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"ORS accessibility maps — ors_accessibility","text":"","code":"if (FALSE) { # \\dontrun{ data(\"pharma\")  # Returns a polygon sf dataframe divided by four 15 minute time breaks # Also contains information on the area and population inside the isochrones ors_accessibility(   pharma,   profile = \"driving-car\",   range = c(900, 1800, 2700, 3600),   attributes = c(\"area\", \"total_pop\"),   location_type = \"start\",   range_type = \"time\",   rasterize = TRUE )  # Returns a raster image classified by 3 distance intervals ors_accessibility(   pharma,   profile = \"driving-car\",   range = c(1000, 5000, 10000),   location_type = \"destination\",   range_type = \"distance\" )  # Returns a polygon sf dataframe that is broken down every 50 meters up until # the maximum distance of 500 meters. ors_accessibility(   pharma,   profile = \"cycling-regular\",   range = 500,   location_type = \"start\",   interval = 50,   range_type = \"distance\" )} # }"},{"path":"https://jslth.github.io/rors/reference/ors_export.html","id":null,"dir":"Reference","previous_headings":"","what":"Export graphs — ors_export","title":"Export graphs — ors_export","text":"Retrieve base graphs different modes transport. Includes nodes edges used routing.","code":""},{"path":"https://jslth.github.io/rors/reference/ors_export.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Export graphs — ors_export","text":"","code":"ors_export(   bbox,   profile = get_profiles(),   network = TRUE,   instance = NULL,   ... )"},{"path":"https://jslth.github.io/rors/reference/ors_export.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Export graphs — ors_export","text":"bbox [various] object created st_bbox object can coerced bbox object. graphs within boundaries exported. profile [character] Means transport supported OpenRouteService. Defaults first profile call get_profiles. ors_shortest_distances, profile can character vector, functions needs character scalar. details profiles, refer documentation. network [logical] Whether convert output sfnetwork. instance [ors_instance] Object OpenRouteService instance used route computations. recommended use ors_instance set instance globally. argument used activating instance globally feasible. ... Additional arguments passed export API.","code":""},{"path":"https://jslth.github.io/rors/reference/ors_export.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Export graphs — ors_export","text":"sfnetworks installed, returns sfnetwork. Otherwise, returns list fields nodes edges. nodes network contains column weight represents fastest routing duration specified profile.","code":""},{"path":"https://jslth.github.io/rors/reference/ors_export.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Export graphs — ors_export","text":"","code":"if (FALSE) { # \\dontrun{ library(sfnetworks) library(ggplot2)  data(\"pharma\")  # export graphs as sfnetwork exp1 <- ors_export(pharma, network = TRUE) plot(exp1)  # export graphs as list exp2 <- ors_export(pharma, network = FALSE)  ggplot(exp2$edges) +   geom_sf(aes(lwd = weight))  ggplot() +   geom_sf(data = exp2$nodes, size = 1) +   geom_sf(data = exp2$edges)} # }"},{"path":"https://jslth.github.io/rors/reference/ors_guess.html","id":null,"dir":"Reference","previous_headings":"","what":"Guess extract boundaries — ors_guess","title":"Guess extract boundaries — ors_guess","text":"Makes reasonable guesses boundaries OpenStreetMap extract mounted active ORS instance. ors_guess samples points specified area tries snap points nearest defined street. simple wrapper around ors_snap. function can useful validate ORS setup find extract area remote (non-official) ORS server.","code":""},{"path":"https://jslth.github.io/rors/reference/ors_guess.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Guess extract boundaries — ors_guess","text":"","code":"ors_guess(   poly = NULL,   n = 1000,   radius = 1000,   type = \"regular\",   poly_fun = sf::st_convex_hull,   instance = NULL,   ... )"},{"path":"https://jslth.github.io/rors/reference/ors_guess.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Guess extract boundaries — ors_guess","text":"poly [various] sf/sfc object object can parsed st_bbox. NULL, defaults global boundaries. Needed narrow area guessing. best results, poly small precise possible. n [integer] Number points sample. points mean slower precise guess work. radius [numeric] Snapping radius. Points snapped street street lies within distance source point. type [character] Spatial sampling type. details, see st_sample. poly_fun [function] Function derive boundary polygon successfully snapped points. Defaults st_convex_hull. useful functions st_concave_hull st_polygonize. instance [ors_instance] Object OpenRouteService instance used route computations. recommended use ors_instance set instance globally. argument used activating instance globally feasible. ... arguments passed poly_fun","code":""},{"path":"https://jslth.github.io/rors/reference/ors_guess.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Guess extract boundaries — ors_guess","text":"sfc polygon approximately represents boundaries current ORS extract.","code":""},{"path":"https://jslth.github.io/rors/reference/ors_guess.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Guess extract boundaries — ors_guess","text":"ors_guess usually make lot requests. rate-limited, strongly advised usage function.","code":""},{"path":"https://jslth.github.io/rors/reference/ors_guess.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Guess extract boundaries — ors_guess","text":"","code":"if (FALSE) { # \\dontrun{ bounds <- get_extract_boundaries() bounds <- sf::st_buffer(bounds, 10000) plot(bounds)  bounds2 <- ors_guess(bounds) plot(bounds2, add = TRUE)  bounds3 <- ors_guess(bounds, n = 10000) plot(bounds3, add = TRUE)  bounds4 <- ors_guess(bounds, poly_fun = sf::st_concave_hull, ratio = 0) plot(bounds4, add = TRUE)} # }"},{"path":"https://jslth.github.io/rors/reference/ors_inspect.html","id":null,"dir":"Reference","previous_headings":"","what":"Route inspection — ors_inspect","title":"Route inspection — ors_inspect","text":"Calls directions service get closer look route characteristics attributes. Produces dataframe containing elaborate perspective route sections contextual properties. ors_inspect can also used relatively low-level interface directions service ability return responses parsed unparsed JSONs. summary function computes summary statistics interval tables given route.","code":""},{"path":"https://jslth.github.io/rors/reference/ors_inspect.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Route inspection — ors_inspect","text":"","code":"ors_inspect(   src,   profile = NULL,   level = c(\"waypoint\", \"step\", \"segment\"),   attributes = NULL,   extra_info = NULL,   elevation = TRUE,   navigation = FALSE,   alternative_routes = NULL,   round_trip = NULL,   as = c(\"tidy\", \"list\", \"string\"),   elev_as_z = FALSE,   instance = NULL,   ...,   params = NULL )  # S3 method for class 'ors_route' summary(object, ...)"},{"path":"https://jslth.github.io/rors/reference/ors_inspect.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Route inspection — ors_inspect","text":"src [sf] Source dataset containing least two point geometries routes computed. round_trip specified, source must contain single coordinate pair round trip generated. profile [character] Means transport supported OpenRouteService. Defaults first profile call get_profiles. ors_shortest_distances, profile can character vector, functions needs character scalar. details profiles, refer documentation. level [character] Level route aggregation. Must one waypoint, step segment. See details. attributes [list] List attributes summarize route characteristics. includes three values: avgspeed states average vehicle speed along route, detourfactor indicates much route deviates straight line. percentage shows share segment compared entire route. TRUE, values included. extra_info [character]/[TRUE] List keywords add extra information regarding linestring segment output. TRUE, values included. See details information. elevation [logical] TRUE, elevation data included output. navigation [logical] TRUE, navigation information included output, .e., instructions road exits. level == \"segment\", navigation data dropped output. alternative_routes [list] Named list specifies options alternative routes accepts three parameters. target_count maximum number routes compute (including recommended route). Must integer 1 3 defaults 1. output can contain less routes specified alternatives can computed src coordinates. share_factor denotes maximum share identical paths routes. weight_factor maximum factor route can deviate (.e. longer) original route. specified, target_count larger 1, output wrapped list three dataframes. NULL, alternative routes computed. round_trip [list] Named list specifies options round trips accepts three parameters. length approximate length round trip. points denotes number route points derive round trip (higher rounder). seed controls randomisation route direction. specified, src must contain single coordinate pair round trip generated. NULL, round trip computed. [character] format output. \"string\", returns entire JSON response string. \"list\", returns parsed JSON list. \"tidy\", performs lots data preparation shape response tibble. elev_as_z [logical] TRUE, elevation data stored z-values geometry output sf dataframe. FALSE, elevation stored distinct dataframe column. Ignored elevation = FALSE. instance [ors_instance] Object OpenRouteService instance used route computations. recommended use ors_instance set instance globally. argument used activating instance globally feasible. ... Additional arguments passed ORS API. Convenience way directly pass arguments ors_params. params List additional arguments passed ORS API. See ors_params details. object route object class ors_inspect.","code":""},{"path":"https://jslth.github.io/rors/reference/ors_inspect.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Route inspection — ors_inspect","text":"Returns sf dataframe containing detailed sections routes coordinates specified src, aggregated according level aggregation stated level. alternative_routes specified, returns list sf dataframes instead element containing route alternative.","code":""},{"path":"https://jslth.github.io/rors/reference/ors_inspect.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Route inspection — ors_inspect","text":"OpenRouteService distinguishes three types route aggregation: Segments, steps waypoints. segment single route src[, ] src[+ 1, ]. step route section relevant navigation system. waypoint straight connection two geographical points route. Depending chosen level aggregation, output adjusted interpolation aggregation. levels \"segment\", ORS attributes stored R attributes included dataframe. \"waypoint\", distances durations derived geometry lengths take account elevation (due restrictions s2 package). Extra information (using extra_info argument) street names perfectly overlap steps segments. cases, value highest overlap adopted causing information loss. Navigation information dropped \"segment\" level. order establish structure, ors_inspect depends navigation parameter forces TRUE. navigation FALSE, ORS omits steps - hence also waypoints response. Extra information can requested additional context waypoint route. Possible values include: steepness Ordered factor describing steep part route . suitability Ordinal numeric describing suitable part route (1 - unsuitable; 10 - suitable). surface Unordered factor describing surface material covering part route. waycategory Unordered factor describing special parts route. waytype Unordered factor containing different types roads. tollways driving-* profiles, specifies whether part route tollway. traildifficulty walking driving profiles, specifies OSM trail difficulty. osmid wheelchair profile, contains OSM IDs used ways. roadaccessrestrictions Unordered factor describing road access restriction. countryinfo Nominal numeric containing country codes part route. green walking profiles, describes amount green route (1 - little; 10 - much). noise walking profiles, describes amount noise route (1 - little; 10 - much).","code":""},{"path":[]},{"path":"https://jslth.github.io/rors/reference/ors_inspect.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Route inspection — ors_inspect","text":"","code":"if (FALSE) { # \\dontrun{ sample_source <- ors_sample(1) sample_dest <- ors_sample(1) profile <- get_profiles()[1]  # Basic inspection without extra information insp <- ors_inspect(sample_source, sample_dest, profile)  # Advanced inspection with extra information insp_adv <- ors_inspect(   sample_source,   sample_dest,   profile,   extra_info = TRUE )  # Inspection of route elevation data insp_elev <- ors_inspect(   sample_source,   sample_dest,   profile,   elevation = TRUE,   elev_as_z = FALSE )  # Inspection of route summary attributes insp_attr <- ors_inspect(   sample_source,   sample_dest,   profile,   attributes = \"detourfactor\" ) attr(insp_attr, \"detourfactor\")  # Altering the route by passing further arguments insp_opts <- ors_inspect(   sample_source,   sample_dest,   profile,   continue_straight = TRUE,   preference = \"shortest\",   maximum_speed = 80 )  # Summarizing route specifics route_summary <- summary(insp_adv) } # }"},{"path":"https://jslth.github.io/rors/reference/ors_instance.html","id":null,"dir":"Reference","previous_headings":"","what":"OpenRouteService instance — ors_instance","title":"OpenRouteService instance — ors_instance","text":"Creates OpenRouteService instance object. instance represents either local/remote server directory OpenRouteService can set . Running function related functions listed stores instance internal environment enables functions interacting OpenRouteService API automatically detect appropriate server information needed make successful request. Hence, function always run loading rors means fixing instance current session. initializing instance using already running server requires action, function family excels building local OpenRouteService server source. Setting local server effectively removes server-side rate limits allows conveniently use package functions much larger datasets. setting local server, required build start Docker container. , ors_instance starts Docker (necessary), creates ORS directory, parses important information jumpstarts fresh ORS server. full reference methods ORS instance, refer ORSLocal ORSRemote.","code":""},{"path":"https://jslth.github.io/rors/reference/ors_instance.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"OpenRouteService instance — ors_instance","text":"","code":"ors_instance(dir = \".\", server = NULL, type = c(\"docker\", \"jar\", \"war\"), ...)"},{"path":"https://jslth.github.io/rors/reference/ors_instance.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"OpenRouteService instance — ors_instance","text":"dir [character] Custom OpenRouteService directory. specified, directory downloaded working direcotry. directory called \"openrouteservice-{version}\" present, download skipped unless overwrite TRUE. Ignored server given. server [character] URL server accepts OpenRouteService requests. can URL local remote server. official public API can accessed using shortcuts \"public\" \"pub\". Keep mind public API rate-restricted requests automatically throttled 40 requests per minute. Routing functions slow larger datasets. type [character] type application set . Can one \"docker\" (default), \"jar\", \"war\". Docker instances versatile also complex. Docker instances require Docker installed accessible (relevant Linux users). JAR instances require JDK >= 17 installed. WAR instances require Tomcat 10 installed. JAR instances controlled using external process thus bound R session. session dies, OpenRouteService servers. Docker containers, conversely, bound R session. using Docker Desktop (Windows) starting Docker daemon R, software closes R dies. stops ORS containers kill . ... arguments passed ORSLocal ORSRemote.","code":""},{"path":"https://jslth.github.io/rors/reference/ors_instance.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"OpenRouteService instance — ors_instance","text":"R6 object class ors_instance created ORSLocal ORSRemote.","code":""},{"path":"https://jslth.github.io/rors/reference/ors_instance.html","id":"session-mounting","dir":"Reference","previous_headings":"","what":"Session mounting","title":"OpenRouteService instance — ors_instance","text":"Upon initialization (whenever calling method) object created ors_instance mounts current R session. ors_* functions automatically identify mounted ORS instance retrieve important information querying ORS servers processing data. Mounted instances cleared starting new session overwriting new instance. case multiple instances running simultaneously queried instance, ors_* functions allow directly pass instance object. Otherwise, recommended implicitly use mounted instance.","code":""},{"path":"https://jslth.github.io/rors/reference/ors_instance.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"OpenRouteService instance — ors_instance","text":"","code":"# \\donttest{ # Download and furnish an ORS instance # To execute this code, docker is required to be running try(ors_instance(dir = tempdir(), version = \"8.0.0\")) #> Docker version 26.1.3, build b72abbb #> ℹ Downloading docker-compose.yml #> ℹ Using OpenRouteService version v8.0.0 #> ✔ Downloaded docker-compose.yml [104ms] #>  #> <ORSInstance> #>  server : http://localhost:8080/ #>  type   : local (docker) #>  active : TRUE #>  init   : FALSE  # Connect to the public API Sys.setenv(ORS_TOKEN = \"xxx\") # a token must be set ors_instance(server = \"public\") #> <ORSInstance> #>  server : https://api.openrouteservice.org/ #>  type   : remote  #>  active : TRUE  # Connect to a local server # Initializing an instance by passing the URL to a local server # does not allow for control of the underlying data and # configurations. If finer control over such things is needed, # it is necessary to set up the instance from scratch using the # `dir` argument. ors_instance(server = \"https://127.0.0.1:8001/\") #> <ORSInstance> #>  server : https://127.0.0.1:8001/ #>  type   : remote  #>  active : TRUE # }"},{"path":"https://jslth.github.io/rors/reference/ors_matrix.html","id":null,"dir":"Reference","previous_headings":"","what":"Routing distance matrix — ors_matrix","title":"Routing distance matrix — ors_matrix","text":"Calls matrix service returns routing distance matrix.","code":""},{"path":"https://jslth.github.io/rors/reference/ors_matrix.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Routing distance matrix — ors_matrix","text":"","code":"ors_matrix(   src,   dst = NULL,   profile = NULL,   units = c(\"m\", \"km\", \"mi\"),   proximity_type = c(\"distance\", \"duration\"),   instance = NULL )"},{"path":"https://jslth.github.io/rors/reference/ors_matrix.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Routing distance matrix — ors_matrix","text":"src [sf/sfc] Source dataset containing point geometries routed . dst [sf/sfc] Destination dataset containing point geometries routed . NULL, routes points src. profile [character] Means transport supported OpenRouteService. Defaults first profile call get_profiles. ors_shortest_distances, profile can character vector, functions needs character scalar. details profiles, refer documentation. units [character] Distance unit distance calculations (\"m\", \"km\" \"mi\") proximity_type [character] Type proximity calculations based . distance, shortest physical distance calculated duration, shortest temporal distance calculated. instance [ors_instance] Object OpenRouteService instance used route computations. recommended use ors_instance set instance globally. argument used activating instance globally feasible.","code":""},{"path":"https://jslth.github.io/rors/reference/ors_matrix.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Routing distance matrix — ors_matrix","text":"distance matrix.","code":""},{"path":"https://jslth.github.io/rors/reference/ors_matrix.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Routing distance matrix — ors_matrix","text":"","code":"if (any_mounted() && ors_ready()) {   # compute distances from each row to each other row   ors_matrix(pharma)    # if two datasets are provided, route from each row in `src` to each row in `dst`   ors_matrix(pharma[1:4, ], pharma[5:8, ])    # distance matrices can be based on time or physical distance   ors_matrix(pharma, proximity_type = \"duration\")    # units can be adjusted   ors_matrix(pharma, units = \"km\") }"},{"path":"https://jslth.github.io/rors/reference/ors_pairwise.html","id":null,"dir":"Reference","previous_headings":"","what":"Pairwise routing — ors_pairwise","title":"Pairwise routing — ors_pairwise","text":"ors_pairwise calculates pairwise routing distance two datasets using Directions service ORS. words, routes computed ith row src dst, respectively. ors_shortest_distances wrapper around ors_pairwise matches point source dataset destination dataset extracts route shortest distance.","code":""},{"path":"https://jslth.github.io/rors/reference/ors_pairwise.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pairwise routing — ors_pairwise","text":"","code":"ors_pairwise(   src,   dst,   profile = NULL,   units = c(\"m\", \"km\", \"mi\"),   geometry = FALSE,   progress = FALSE,   instance = NULL,   ...,   params = NULL )  ors_shortest_distances(   src,   dst,   group = NULL,   profile = NULL,   units = c(\"m\", \"km\", \"mi\"),   geometry = FALSE,   instance = NULL,   ...,   proximity_type = c(\"duration\", \"distance\"),   progress = TRUE )"},{"path":"https://jslth.github.io/rors/reference/ors_pairwise.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pairwise routing — ors_pairwise","text":"src [sf/sfc] Source dataset containing point geometries routed . dst [sf/sfc] Destination dataset containing point geometries routed . ors_shortest_distances, destination argument can also dataframe containing grouping column specified group argument indicates destinations refer row source dataset (returned group_by_proximity). recommended large datasets passing plain sf dataframe routes source point point entire destination dataset. profile [character] Means transport supported OpenRouteService. Defaults first profile call get_profiles. ors_shortest_distances, profile can character vector, functions needs character scalar. details profiles, refer documentation. units [character] Distance unit distance calculations (\"m\", \"km\" \"mi\") geometry [logical] TRUE, returns sf object containing route geometries. FALSE, returns route distance measures. Defaults FALSE, increase performance. progress [logical] Whether show progress bar longer operations. instance [ors_instance] Object OpenRouteService instance used route computations. recommended use ors_instance set instance globally. argument used activating instance globally feasible. ... Additional arguments passed ORS API. Convenience way directly pass arguments ors_params. params List additional arguments passed ORS API. See ors_params details. group [character/numeric] Column name index providing grouping column indicates row destination dataset corresponds row source dataset (output group_by_proximity). Providing grouping column can considerably reduce processing load larger datasets. proximity_type [character] Type proximity calculations based . distance, shortest physical distance calculated duration, shortest temporal distance calculated.","code":""},{"path":"https://jslth.github.io/rors/reference/ors_pairwise.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Pairwise routing — ors_pairwise","text":"ors_pairwise returns dataframe distances travel durations source destination. Distances specified unit given units arguments durations specified seconds. ors_shortest_distances returns dataframe containing distances, travel durations index number point interest shortest routing distance respective place source dataset. Depending geometry argument, output functions can either simple dataframes objects class sf containing linestring geometries respective routes.","code":""},{"path":"https://jslth.github.io/rors/reference/ors_pairwise.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Pairwise routing — ors_pairwise","text":"ors_pairwise, profile argument supports length-1 vectors ors_shortest_distances supports multiple profiles. ors_shortest_distances finds shortest route source point profile, respectively. Responses kept small possible automatically setting navigation parameter FALSE. Pairwise computations exploit route summary statistics benefit extra information.","code":""},{"path":"https://jslth.github.io/rors/reference/ors_pairwise.html","id":"error-handling","dir":"Reference","previous_headings":"","what":"Error handling","title":"Pairwise routing — ors_pairwise","text":"Since ors_pairwise supposed conduct lot calculations one go, errors might occur even well-conceived service setups. order make debugging less painful, errors tear whole process. saved environment issue warning containing indices routes question. process finished, can accessed calling last_ors_conditions. Specific routes can examined inspecting route attributes using ors_inspect.","code":""},{"path":"https://jslth.github.io/rors/reference/ors_pairwise.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Pairwise routing — ors_pairwise","text":"","code":"if (any_mounted() && ors_ready()) {   data(\"pharma\")    set.seed(123)   dest <- ors_sample(10)    car <- \"driving-car\"   bike <- \"cycling-regular\"    # Running with sf objects   ors_pairwise(pharma, dest, profile = car)    # Running with coordinate pairs   ors_pairwise(pharma, dest, profile = bike)    # Returns route geometries   ors_pairwise(     pharma,     dest,     profile = car,     geometry = TRUE   )    # Returns routes in kilometers   ors_pairwise(     pharma,     dest,     profile = bike,     units = \"km\"   )    # Running with additional arguments   ors_pairwise(     pharma,     dest,     profile = car,     continue_straight = TRUE,     preference = \"fastest\"   )    # Finding shortest routes from each point in sample_a to sample_b   ors_shortest_distances(pharma, dest, units = \"km\")    # Pre-filter the nearest 5 destination points by Euclidian distance   pois <- group_by_proximity(pharma, dest, n = 5)    # Only route from each pharmacy to one of the closest 5 destination points   # respectively. For larger datasets, this can increase performance.   ors_shortest_distances(     pharma,     pois,     group = \".group\",     geometry = TRUE   ) }"},{"path":"https://jslth.github.io/rors/reference/ors_params.html","id":null,"dir":"Reference","previous_headings":"","what":"Construct ORS parameters — ors_params","title":"Construct ORS parameters — ors_params","text":"Create list parameters can passed function supports additional parameters. information parameters, visit API playground backend reference. param_info provides overview checks preparations performed ors_params. Note function provides means manually construct parameters. high-level endpoint functions ors_inspect, parameters can passed dot arguments.","code":""},{"path":"https://jslth.github.io/rors/reference/ors_params.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Construct ORS parameters — ors_params","text":"","code":"ors_params(   profile,   n = NULL,   bearings = NULL,   alternative_routes = list(),   geometry_simplify = FALSE,   continue_straight = FALSE,   preference = \"recommended\",   radiuses = NULL,   maximum_speed = NULL,   attributes = NULL,   extra_info = NULL,   elevation = FALSE,   skip_segments = NULL,   roundabout_exits = FALSE,   maneuvers = FALSE,   suppress_warnings = FALSE,   id = NULL,   instructions = TRUE,   instructions_format = \"text\",   language = \"en\",   avoid_borders = NULL,   avoid_countries = NULL,   avoid_features = NULL,   avoid_polygons = NULL,   round_trip = list(),   vehicle_type = \"hgv\",   restrictions = list(),   weightings = list(),   surface_quality_known = FALSE,   allow_unsuitable = FALSE )"},{"path":"https://jslth.github.io/rors/reference/ors_params.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Construct ORS parameters — ors_params","text":"profile [character] routing profile defined ORS. combinations profiles parameters supported. n [integer] Number observations used routing. value refers segments described ors_inspect. use ors_pairwise always 1. bearings [numeric] Numeric vector matrix n rows 1 2 columns. first column contains bearings can take radial degrees 0 360 (clockwise) represent direction routing. optional second column specifies possible deviation bearings. values can also NA_real_ skip value entire input row. Bearings default 100 specified. available cycling-* profiles. alternative_routes {list} List options generating alternative routes. Can one following options: target_count Number alternatives computed. weight_factor Multiplier specifies factor alternative routes allowed diverge optimal route. Defaults 1.4. share_factor Multiplier specificies fraction alternative route allowed share optimal route. Defaults 0.6. parameter changes output format, available ors_inspect. geometry_simplify [logical] Whether simplify route geometry. possible length(n) == 1. available extra_infos specified. continue_straight [logical] Whether force route go straight avoid u-turns. preference [character] Specifies route preference. Must \"fastest\", \"shortest\" \"recommended\". Defaults \"recommended\". radiuses [numeric] Maximum snapping distance (m) input point nearest road. Expects vector length n. vector length 1 provided, values recycled length n. -1 represents unlimited radius. Defaults maximum_snapping_radius configuration 350m changed. maximum_speed [numeric] Maximum allowed speed km/h. Must least 80 km/h. available driving-* profiles. attributes [character] Route attributes sent routing result. One several \"avgspeed\", \"detourfactor\" \"percentage\". extra_info [character] Extra information sent routing result. list possible values, see details section ors_inspect. extra_info changes output format, available ors_inspect. elevation [logical] Whether include elevation information routing response. skip_segments [numeric] Vector route segments skip. Must values 1 n 1 represents segment first second input point. roundabout_exits [logical] Whether include information bearings roundabout exits routing response. maneuvers [logical] Whether include information maneuvers routing response. Maneuvers describe bearing waypoint passed route. suppress_warnings [logical] Whether suppress warnings routing response. id [character] identifier sent routing request returned routing response. instructions [logical] Whether include navigation information routing response. instructions_format [character] Format navigation instructions. Can one \"text\" \"html\". HTML instructions verbose. language [character] Language navigation instructions. One \"cs\", \"cs-cz\", \"de\", \"de-de\", \"en\", \"en-us\", \"eo\", \"eo-eo\", \"es\", \"es-es\", \"fr\", \"fr-fr\", \"gr\", \"gr-gr\", \"\", \"-il\", \"hu\", \"hu-hu\", \"id\", \"id-id\", \"\", \"-\", \"ja\", \"ja-jp\", \"ne\", \"ne-np\", \"nl\", \"nl-nl\", \"nb\", \"nb-\", \"pl\", \"pl-pl\", \"pt\", \"pt-pt\", \"ro\", \"ro-ro\", \"ru\", \"ru-ru\", \"tr\", \"tr-tr\", \"zh\" \"zh-cn\". avoid_borders [character] Type border avoid. One \"\", \"controlled\", \"none\". Requires driving-* profiles. avoid_countries [integer] Vector country codes avoid. Requires avoid_borders = \"controlled\". list country codes can found API reference running country_info. Requires driving-* profiles. avoid_features [character] Features avoid. One \"highways\", \"tollways\" \"ferries\". avoid_polygons [sf/sfc] sf object containing polygons multipolygons describe areas avoid. Must CRS EPSG:4326. round_trip [list] List options generating round trips. Can include following options: length Target length round trip (m) points Number points create round trip seed RNG seed control randomness direction round trip parameter changes output format, available ors_inspect. vehicle_type [character] profile \"driving-hgv\", specifies vehicle type. One \"hgv\", \"bus\", \"agricultural\", \"agricultural\", \"delivery\", \"forestry\", \"goods\" \"unknown\". restrictions [list] List options restricting waypoint edges. edge meet restrictions, discarded. Can include following options: length Length restrictions \"driving-hgv\" m. width Width restrictions \"driving-hgv\" m. height Height restrictions \"driving-hgv\" m. axleload Axleload restrictions \"driving-hgv\" tons. weight Weight restrictions \"driving-hgv\" m. hazmat Whether adjust routing transportation hazardous goods, .e. avoid protected areas, \"driving-hgv\". Defaults FALSE. surface_type Minimum surface type \"wheelchair\". Corresponds values OSM Key:surface. Defaults \"sett\". track_type Minimum track grade \"wheelchair\". Corresponds values OSM Key:tracktype. Defaults \"grade1\". smoothness_type Minimum track smoothness \"wheelchair\". Corresponds values OSM Key:smoothness. Defaults \"good\". maximum_sloped_kerb Maximum sloped curb height \"wheelchair\" (m). Defaults 0.6 m. maximum_incline Maximum incline \"wheelchair\" (percent). Defaults 6 percent. minimum_width Minimum footway width \"wheelchair\" (m). Defaults 2.5 m. weightings [list] List options weighting waypoint edges. Can include following options: steepness_difficulty Proficiency level cycling-* profiles. Can integer 0 3 corresponding levels \"novice\", \"moderate\", \"amateuer\" \"pro\". green Multiplier 0 1 weights importance green areas waypoint edges. 1, always prefers green routes. available foot-* profiles. quiet Multiplier 0 1 weights importance quiet areas waypoint edges. 1, always prefers quiet routes. available foot-* profiles. shadow Multiplier 0 1 weights importance shadow areas waypoint edges. 1, always prefers shadowy routes. available foot-* profiles. surface_quality_known [logical] Whether force routes follow ways whose surface quality known. available \"wheelchair\" profile. allow_unsuitable [logical] Whether unsuitable ways included routing. available \"wheelchair\" profile.","code":""},{"path":"https://jslth.github.io/rors/reference/ors_params.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Construct ORS parameters — ors_params","text":"function performs basic validation checks. check fails, error thrown. particular, following reasons can lead error: \"requires different profile\": parameters require specific profile. example, vehicle_type meaningful profile driving-hgv. profile profile match required profile, error thrown. \"invalid length\": parameters allow vectors length > 1, require scalar values. \"exceeds defined value limits\": parameters valid within certain value range. example, green, quiet, shadow parameters expect value 0 1. outside defined value range, error thrown. \"undefined values\": parameters require specific pre-defined string. example, preference parameters expects either \"fastest\", \"shortest\", \"recommended\". value, error thrown. \"invalid sf object\": avoid_polygons parameter expects sf object. Otherwise, error thrown.","code":""},{"path":"https://jslth.github.io/rors/reference/ors_profile.html","id":null,"dir":"Reference","previous_headings":"","what":"ORS profile — ors_profile","title":"ORS profile — ors_profile","text":"Construct configuration ORS profile. ors_profile object created function can used input $add_profiles() method ORS instances.","code":""},{"path":"https://jslth.github.io/rors/reference/ors_profile.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"ORS profile — ors_profile","text":"","code":"ors_profile(name = NULL, ..., template = TRUE)"},{"path":"https://jslth.github.io/rors/reference/ors_profile.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"ORS profile — ors_profile","text":"name [character] Name ORS profile. length-2 vector passed, first value taken actual name second value taken title profile configuration file (e.g. c(\"driving-car\", \"car\")). ... Configuration parameters ORS profile. Must key-value pairs. details, refer configuration reference. template logical Whether use template name one base profiles (see details).","code":""},{"path":"https://jslth.github.io/rors/reference/ors_profile.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"ORS profile — ors_profile","text":"object class ors_profile can used add profiles ors_instance","code":""},{"path":"https://jslth.github.io/rors/reference/ors_profile.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"ORS profile — ors_profile","text":"ORS defines number base profiles including: driving-car driving-hgv cycling-regular cycling-road cycling-electric cycling-mountain foot-walking foot-hiking wheelchair public-transport base profiles pre-defined template. Profiles base profiles can also constructed ors_profile, need sophisticated preparation (see e.g. Butzer 2017).","code":""},{"path":"https://jslth.github.io/rors/reference/ors_profile.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"ORS profile — ors_profile","text":"Butzer, .S. (2017). Erstellung eines Routing-Profils für Feuerwehrfahrzeuge auf Basis von OpenStreetMap-Daten. Bachelor Thesis. Ruprecht Karl University Heidelberg.","code":""},{"path":"https://jslth.github.io/rors/reference/ors_profile.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"ORS profile — ors_profile","text":"","code":"# Create a car profile with pre-defined defaults ors_profile(\"driving-car\") #> <ors_profile> #>  car: #>   profile: driving-car #>   enabled: true #>   encoder_options: #>     turn_costs: true #>     block_fords: false #>     use_acceleration: true #>     maximum_grade_level: 1 #>     conditional_access: true #>     conditional_speed: true #>   elevation: true #>   preparation: #>     min_network_size: 200 #>     min_one_way_network_size: 200 #>     methods: #>       ch: #>         enabled: true #>         threads: 1 #>         weightings: fastest #>       lm: #>         enabled: false #>         threads: 1 #>         weightings: fastest #>         landmarks: 16 #>       core: #>         enabled: true #>         threads: 1 #>         weightings: fastest,shortest #>         landmarks: 64 #>   execution: #>     methods: #>       lm: #>         active_landmarks: 8 #>       core: #>         disabling_allowed: true #>         active_landmarks: 6  # Defaults can be modified ors_profile(\"driving-car\", elevation = FALSE) #> <ors_profile> #>  car: #>   profile: driving-car #>   enabled: true #>   encoder_options: #>     turn_costs: true #>     block_fords: false #>     use_acceleration: true #>     maximum_grade_level: 1 #>     conditional_access: true #>     conditional_speed: true #>   elevation: false #>   preparation: #>     min_network_size: 200 #>     min_one_way_network_size: 200 #>     methods: #>       ch: #>         enabled: true #>         threads: 1 #>         weightings: fastest #>       lm: #>         enabled: false #>         threads: 1 #>         weightings: fastest #>         landmarks: 16 #>       core: #>         enabled: true #>         threads: 1 #>         weightings: fastest,shortest #>         landmarks: 64 #>   execution: #>     methods: #>       lm: #>         active_landmarks: 8 #>       core: #>         disabling_allowed: true #>         active_landmarks: 6  # Create a walking profile with given encoder options ors_profile(\"bike-regular\", template = FALSE, encoder_options = list(turn_costs = FALSE)) #> <ors_profile> #>  bike-regular: #>   profile: cycling-regular #>   enabled: true #>   encoder_options: #>     turn_costs: false"},{"path":"https://jslth.github.io/rors/reference/ors_sample.html","id":null,"dir":"Reference","previous_headings":"","what":"ORS-based sampling — ors_sample","title":"ORS-based sampling — ors_sample","text":"Sample point geometries within boundaries running ORS extract. function works reading mounted extract file can thus run local instance.","code":""},{"path":"https://jslth.github.io/rors/reference/ors_sample.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"ORS-based sampling — ors_sample","text":"","code":"ors_sample(   size,   ...,   force = FALSE,   instance = NULL,   poly = NULL,   verbose = TRUE )  get_extract_boundaries(instance = NULL, force = FALSE, verbose = TRUE)"},{"path":"https://jslth.github.io/rors/reference/ors_sample.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"ORS-based sampling — ors_sample","text":"size [integer] Number points sampled. ... Passed st_sample. force [logical] TRUE, forces cached extract geometries overwritten. Defaults FALSE increase speed. Set TRUE extract changed new one needs loaded. instance [ors_instance] Object OpenRouteService instance used route computations. recommended use ors_instance set instance globally. argument used activating instance globally feasible. poly [sf/sfc] Boundary polygon used sample points. NULL, default, boundary polygons extracted current instance set ors_instance. verbose [logical] TRUE, prints loading spinner.","code":""},{"path":"https://jslth.github.io/rors/reference/ors_sample.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"ORS-based sampling — ors_sample","text":"ors_sample returns sfc object containing sampled POINT geometries. get_extract_boundaries returns sfc object currently mounted extract boundaries.","code":""},{"path":"https://jslth.github.io/rors/reference/ors_sample.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"ORS-based sampling — ors_sample","text":"function vectortranslates extract file sf object. Depending file, can take . unionized boundaries cached making subsequent function calls lot faster. instance local, difficult derive extract boundaries. thus far way accessing OSM extract file knowing server address. can, however, make use heuristics: ors_export can export built graphs ORS server allows . However, work public API requires knowledge approximate area extract. ors_guess can make approximation extract area. accesses snap endpoint also work public API needs enabled servers. ors_guess can make lot requests might feasible many situations.","code":""},{"path":"https://jslth.github.io/rors/reference/ors_sample.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"ORS-based sampling — ors_sample","text":"","code":"if (FALSE) { # \\dontrun{ # ORS sampling only works with a local instance monaco <- system.file(\"setup/monaco.pbf\", package = \"rors\") ors <- ors_instance() ors$set_extract(file = monaco) ors$up()  # reads in boundaries of monaco pbf file bounds <- get_extract_boundaries() plot(bounds)  # subsequent calls do not need to read the pbf file ors_sample(5)  # ... except when they are forced to ors_sample(force = TRUE) } # }"},{"path":"https://jslth.github.io/rors/reference/ors_snap.html","id":null,"dir":"Reference","previous_headings":"","what":"Snap to nearest street — ors_snap","title":"Snap to nearest street — ors_snap","text":"Queries snap endpoint snap source points nearest accessible street.","code":""},{"path":"https://jslth.github.io/rors/reference/ors_snap.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Snap to nearest street — ors_snap","text":"","code":"ors_snap(src, profile = NULL, radius = 350, instance = NULL, ...)"},{"path":"https://jslth.github.io/rors/reference/ors_snap.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Snap to nearest street — ors_snap","text":"src [sf/sfc] Source dataset containing point geometries routed . profile [character] Means transport supported OpenRouteService. Defaults first profile call get_profiles. ors_shortest_distances, profile can character vector, functions needs character scalar. details profiles, refer documentation. radius [numeric] Snapping radius. Points snapped street street lies within distance source point. instance [ors_instance] Object OpenRouteService instance used route computations. recommended use ors_instance set instance globally. argument used activating instance globally feasible. ... Additional arguments passed snap API.","code":""},{"path":"https://jslth.github.io/rors/reference/ors_snap.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Snap to nearest street — ors_snap","text":"dataframe containing snapped geometries point src together name street snapping distance.","code":""},{"path":"https://jslth.github.io/rors/reference/ors_snap.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Snap to nearest street — ors_snap","text":"","code":"if (FALSE) { # \\dontrun{ plot(pharma, col = \"black\")  snap1 <- ors_snap(pharma) plot(snap1, add = TRUE, col = \"red\")  snap2 <- ors_snap(pharma, radius = 5000) plot(snap2, add = TRUE, col = \"blue\")  snap3 <- ors_snap(pharma, profile = \"foot-walking\") plot(snap3, add = TRUE, col = \"green\") } # }"},{"path":"https://jslth.github.io/rors/reference/param_info.html","id":null,"dir":"Reference","previous_headings":"","what":"Parameter info — param_info","title":"Parameter info — param_info","text":"Get information checks preparations performed ors_params additional ORS parameters.","code":""},{"path":"https://jslth.github.io/rors/reference/param_info.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Parameter info — param_info","text":"","code":"param_info()"},{"path":"https://jslth.github.io/rors/reference/param_info.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Parameter info — param_info","text":"dataframe tibble following columns: name Name parameter parent Parent object parameter nested, NA otherwise match parameter predefined list values? scalar parameter length-1? type R type parameter value lim parameter subject numerical limits? allowed profiles required use parameter? poly parameter formatted polygon? box parameter need boxing POSTing? inspect parameter available ors_inspect? pariwise parameter available ors_pairwise? accessibility parameter available ors_accessibility?","code":""},{"path":"https://jslth.github.io/rors/reference/pharma.html","id":null,"dir":"Reference","previous_headings":"","what":"Pharmacies in Rutland — pharma","title":"Pharmacies in Rutland — pharma","text":"OpenStreetMap dataset pharmacies British county Rutland.","code":""},{"path":"https://jslth.github.io/rors/reference/pharma.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pharmacies in Rutland — pharma","text":"","code":"pharma"},{"path":"https://jslth.github.io/rors/reference/pharma.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Pharmacies in Rutland — pharma","text":"sf tibble 8 rows 3 columns: name Name pharmacy dispensing Whether pharmacy able provide prescription drugs geometry sfc geometries","code":""},{"path":"https://jslth.github.io/rors/reference/pharma.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Pharmacies in Rutland — pharma","text":"https://www.openstreetmap.org/, https://overpass-turbo.eu/","code":""},{"path":"https://jslth.github.io/rors/reference/plot_section.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot route cross-sections — plot_section","title":"Plot route cross-sections — plot_section","text":"Plot segments route elevation profile cross-section. geographic cross-section describes two-dimensional cut route x-axis denotes distance y-axis denotes elevation. area elevation profile can used plot additional feature.","code":""},{"path":"https://jslth.github.io/rors/reference/plot_section.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot route cross-sections — plot_section","text":"","code":"plot_section(   x,   feat = \"avgspeed\",   dist = \"distance\",   elev = \"elevation\",   palette = NULL,   scale_elevation = TRUE,   size = 1.5,   xlab = dist,   ylab = elev,   scale_title = feat,   title = NULL,   subtitle = NULL,   caption = NULL,   ... )"},{"path":"https://jslth.github.io/rors/reference/plot_section.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot route cross-sections — plot_section","text":"x [sf] sf data.frame describing segments linestring. data.frame expected multiple rows (representing segments) least three columns, \"elevation\", \"distance\" additional feature. Preferably, result ors_inspect, sf data.frames might work well. dist, elev, feat [character] Column names distance, elevation feature values inside x. palette [character] Color palette used plotting. Passed scale_fill_manual scale_fill_gradientn, depending data type feat. Defaults Cividis colormap. scale_elevation [logical] Whether scale elevation axis based lowest elevation. FALSE, y-axis scaled fixed sea level. Defaults TRUE. size [numeric] Size line plot. Defaults 1.5. xlab, ylab, scale_title, title, subtitle, caption [character] Arguments change label names, legend, title, subtitle caption ggplot object. ... arguments passed scale_fill_manual scale_fill_gradientn depending data type feat.","code":""},{"path":"https://jslth.github.io/rors/reference/plot_section.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot route cross-sections — plot_section","text":"ggplot object.","code":""},{"path":"https://jslth.github.io/rors/reference/plot_section.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Plot route cross-sections — plot_section","text":"https://giscience.github.io/openrouteservice-r/articles/openrouteservice.html","code":""},{"path":"https://jslth.github.io/rors/reference/plot_section.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot route cross-sections — plot_section","text":"","code":"if (FALSE) { # \\dontrun{ sample <- ors_sample(2) route <- ors_inspect(sample[1, ], sample[2, ], extra_info = TRUE)  plot_section(route, feat = \"waytype\")  plot_section(route, feat = \"steepness\", scale_elevation = FALSE)  zissou_pal <- hcl.colors(11, palette = \"Zissou 1\") plot_section(route, \"steepness\", palette = zissou_pal)  terrain_pal <- hcl.colors(10, palette = \"Terrain\") plot_section(route, \"elevation\", palette = terrain_pal, scale_elevation = FALSE) } # }"},{"path":"https://jslth.github.io/rors/reference/rors-package.html","id":null,"dir":"Reference","previous_headings":"","what":"rors: Routing using OpenRouteService — rors-package","title":"rors: Routing using OpenRouteService — rors-package","text":"Flexible opinionated interface local remote 'OpenRouteService' instances. package enables qualitative quantitative route computations, accessbility analyses, distance matrix calculations, street snapping graph network exports. primarily aimed processing larger datasets controlled server-side limitations. R6 classes support setup management custom 'OpenRouteService' instances. package functions take tidy graceful approach querying formatting API output.","code":""},{"path":"https://jslth.github.io/rors/reference/rors-package.html","id":"usage","dir":"Reference","previous_headings":"","what":"Usage","title":"rors: Routing using OpenRouteService — rors-package","text":"learn usage package, look two vignettes package:","code":"vignette(\"ors-installation\", package = \"rors\") vignette(\"ors-routing\", package = \"rors\")"},{"path":"https://jslth.github.io/rors/reference/rors-package.html","id":"package-options","dir":"Reference","previous_headings":"","what":"Package options","title":"rors: Routing using OpenRouteService — rors-package","text":"package relies number package-level options can customized: rors_setup_warn TRUE, emits warnings log entry type \"WARN\" encountered ORS setup. concerns ORS setups using ORSLocal class. Defaults TRUE. rors_echo TRUE, prints results dry run (using req_dry_run) console time request sent mounted ORS server. Useful debugging understanding happens behind scenes. rors_throttle_directions, rors_throttle_isochrones, rors_throttle_matrix, rors_throttle_snap Throttle specifications ORS service. throttle indicates number allowed requests per minute can sent server. defaults can retrieved ORS plans. Throttle values can either decimal number (preferably) fraction, e.g. 40 / 60. options useful exploiting rate limits collaborative plan ORS servers apply rate limits. rors_retries Specifies number retries performed signaling HTTP error. option can useful connection server unstable. Defaults 3 retries.","code":""},{"path":"https://jslth.github.io/rors/reference/rors-package.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"rors: Routing using OpenRouteService — rors-package","text":"package powered OpenRouteService. problems concerning service, refer https://github.com/GIScience/openrouteservice © openrouteservice.org HeiGIT | Map data © OpenStreetMap contributors","code":""},{"path":[]},{"path":"https://jslth.github.io/rors/reference/rors-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"rors: Routing using OpenRouteService — rors-package","text":"Maintainer: Jonas Lieth jonas.lieth@gesis.org","code":""}]
